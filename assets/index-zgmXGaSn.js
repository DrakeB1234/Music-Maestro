const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DrillStartPage-DbDoVxsf.js","assets/react-BN-TMhSM.js","assets/vendor-p4PpBVHW.js","assets/webmidi-DLahG6sQ.js","assets/vexflow-B_RgdgAq.js","assets/DrillStartPage-Cm2Fxktd.css"])))=>i.map(i=>d[i]);
import{j as e,c as Ze,r as v,u as Z,a as it,b as ot,d as ct,H as lt,R as dt,e as De,f as ut}from"./react-BN-TMhSM.js";import{w as W}from"./webmidi-DLahG6sQ.js";import{V as ht,R as be,S as pt,B as Ee,a as oe,A as fe,F as Ce,b as vt}from"./vexflow-B_RgdgAq.js";import"./vendor-p4PpBVHW.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();const mt="modulepreload",xt=function(t){return"/"+t},we={},ft=function(n,a,r){let s=Promise.resolve();if(a&&a.length>0){let o=function(l){return Promise.all(l.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");s=o(a.map(l=>{if(l=xt(l),l in we)return;we[l]=!0;const p=l.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${x}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":mt,p||(d.as="script"),d.crossOrigin="",d.href=l,c&&d.setAttribute("nonce",c),document.head.appendChild(d),p)return new Promise((j,g)=>{d.addEventListener("load",j),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return s.then(h=>{for(const c of h||[])c.status==="rejected"&&i(c.reason);return n().catch(i)})},Ct="_NavbarWrapper_1i4j9_1",jt="_SizeWrapper_1i4j9_19",gt="_IconTextContainer_1i4j9_45",_t="_TitleContainer_1i4j9_59",Nt="_SidebarWrapper_1i4j9_69",yt="_open_1i4j9_99",It="_Backdrop_1i4j9_131",Tt="_show_1i4j9_157",St="_Header_1i4j9_167",Mt="_SidebarItemContainer_1i4j9_195",Dt="_Active_1i4j9_211",bt="_SidebarItemTextContainer_1i4j9_231",Et="_SidebarItemSubTextContainer_1i4j9_243",C={NavbarWrapper:Ct,SizeWrapper:jt,IconTextContainer:gt,TitleContainer:_t,SidebarWrapper:Nt,open:yt,Backdrop:It,show:Tt,Header:St,SidebarItemContainer:Mt,Active:Dt,SidebarItemTextContainer:bt,SidebarItemSubTextContainer:Et},f="var(--color-text-body-1)";function wt({size:t=40,color:n=f}){return e.jsxs("svg",{width:t,height:t,viewBox:"0 0 40 40",style:{display:"block"},children:[e.jsx("circle",{cx:"20",cy:"20",r:"15",stroke:n||"currentColor",strokeOpacity:".1",strokeWidth:"6",fill:"none"}),e.jsxs("circle",{cx:"20",cy:"20",r:"15",stroke:"#2B80FF",strokeWidth:"6",strokeLinecap:"round",fill:"none",strokeDasharray:"70 100",strokeDashoffset:"0",transform:"rotate(-90 20 20)",children:[e.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite",calcMode:"cubic"}),e.jsx("animate",{attributeName:"stroke-dasharray",values:"10 100;50 100;10 100",dur:"1.5s",repeatCount:"indefinite"})]})]})}function At({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"})})}function Fe({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h130v-180h-10q-17 0-28.5-11.5T280-420v-340h-80v560Zm430 0h130v-560h-80v340q0 17-11.5 28.5T640-380h-10v180Zm-240 0h180v-180h-10q-17 0-28.5-11.5T520-420v-340h-80v340q0 17-11.5 28.5T400-380h-10v180Z"})})}function Pt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"})})}function Fr({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M280-120v-80h160v-124q-49-11-87.5-41.5T296-442q-75-9-125.5-65.5T120-640v-40q0-33 23.5-56.5T200-760h80v-80h400v80h80q33 0 56.5 23.5T840-680v40q0 76-50.5 132.5T664-442q-18 46-56.5 76.5T520-324v124h160v80H280Zm0-408v-152h-80v40q0 38 22 68.5t58 43.5Zm200 128q50 0 85-35t35-85v-240H360v240q0 50 35 85t85 35Zm200-128q36-13 58-43.5t22-68.5v-40h-80v152Zm-200-52Z"})})}function Ae({scale:t=1}){return e.jsxs("svg",{width:32*t,height:37*t,viewBox:"0 0 32 37",children:[e.jsx("path",{fill:"#3D3E4E",opacity:.5,d:"m14.872 0-3.156.192-2.557.84-2.193.967-2.318 1.728-1.09 1.125-1.01 1.202-1.11 2.025-.692 2.2-.176 1.187v1.159l.113.287v1.024l-.184.105-.154.171-.104.15-.036.226.036.188.104.122.338.201.047 1.247-.168.153-.055.3.125.297.203.145.321 7.653.551 4.865.575 2.129.828 1.723 1.081 1.335 1.267.946 1.369.71 1.284.22 1.385-.102 1.284-.405 1.116-.665.878-.89.675-.93.254-.979v-1.402l-.422-1.504-1.808-2.686-3.362-3.497-2.29-2.526-1.224-2.171-.09-2.253.195-.163.094-.201v-.285l-.125-.239-.164-.11.09-1.034.094-.29.199-.269.023-.203-.043-.242-.152-.152.213-1.283.756-1.147 1.55-2.48 3.428-3.929 3.498-2.539 3.121-.866h3.126l-1-.698-1.38-.42-1.292-.195L14.872 0Z"}),e.jsx("path",{fill:"#8F8FA3",opacity:.5,d:"m24.38 12.254-1.022-1.975-1.703-2.264-1.539-1.51-1.682-1.145-2.353-.884-1.489-.168-3.78.356 3.355-2.422 3.133-.865h3.105l2.402 1.793 1.675 1.553 1.46 1.782.887 1.381.82 1.607.693 2.187.706.435.423 2.987-.165.376.459 2.516.106 2.6.832 1.582.579 1.5.3 1.19.284 1.245v1.21l-.283 1.177-.413.991-.367.703-.539.672-.82.885-1.19.88-1.043.95-1.061.665-1.308.516-1.146.186-1.23-.056-1.149-.322-1.111-.547-1.088-.887-.484-.595.357-.855.24-.93.048-1.525-.315-1.738-.652-1.69-1.118-1.916.514-1.75.954-1.797 1.481-1.47 1.788-.874 2.359-.351 1.43.222-.259-1.823-.34-.247-1-2.998.258-.543Z"}),e.jsx("path",{fill:"#424257",opacity:.5,d:"m7.642 18.855.845-.09 1.418.077 1.017.24.906.357 1.264.61 1.499 1.029.776.68.758.81.584.645.651.888.797 1.4.413.885.488 1.323.234 1.4v1.27l-.234 1.258-.488.974-.346.502-.782.608.046-1.352-.157-1.3-.345-1.368-.496-1.414-1.353-2.409-1.818-2.104-1.542-1.206-1.265-.81-1.265-.555-1.203-.35-1.295-.092H5.525l-.249-.497.715-.672.758-.433.893-.304Z"}),e.jsx("path",{fill:"#555568",opacity:.5,d:"M5.507 20.742h1.276l1.286.106 1.29.363 1.183.538.66.439.725.483 1.425 1.134 1.82 2.082 1.335 2.365.582 1.619.306 1.53.127 1.014-.057 1.249.312-.237-.173.958-.276.68-.434.61-.53.37-.73.23-.439.123-.562.054h-4.394l.498-.177 1.174-.675.755-.75.745-.995.269-1v-1.387l-.448-1.545-1.707-2.586-3.012-3.124-2.652-2.882-.354-.589Z"}),e.jsx("path",{fill:"#424257",opacity:.5,d:"m19.207 19.706 1.081-.953 1.097-.578.92-.253h1.286l1.387.53 1.135.837.831.976.766 1.76.233 1.605.086 1.52-.319 1.999-.65 1.777-1.14 1.581-.98.895-1.135.663-1.394.398-1.32-.117-1.14-.453-.859-.49.11-1.361.005-1.275-.727-2.538-1.304-2.207.427-1.63.693-1.446.911-1.24Z"}),e.jsx("path",{fill:"#2B80FF",d:"M16.876 16.256a1.207 1.207 0 0 1-1.449.902 1.207 1.207 0 0 1-.92-1.437 1.207 1.207 0 0 1 1.448-.902c.654.147 1.066.79.92 1.437Zm4.581.035a1.207 1.207 0 0 1-1.449.903 1.207 1.207 0 0 1-.92-1.437 1.207 1.207 0 0 1 1.448-.903c.654.148 1.066.791.92 1.437Z"}),e.jsx("path",{fill:"#2B80FF",d:"M17.69 10.501a.176.176 0 0 1 .173-.14l4.595.033c.111 0 .194.102.17.21l-1.166 5.597-.237-.574.875-4.124-4.24.006-.971 4.65-.189-.815.99-4.843ZM1.193 4.003a.607.607 0 0 1-.405.757.607.607 0 0 1-.761-.396.607.607 0 0 1 .405-.756c.322-.1.663.077.761.395ZM3.198 2.87a.607.607 0 0 1-.405.757.607.607 0 0 1-.761-.395.607.607 0 0 1 .405-.757c.322-.1.663.078.761.396Z"}),e.jsx("path",{fill:"#2B80FF",d:"M.106 1.292a.088.088 0 0 1 .04-.105L2.156.05a.088.088 0 0 1 .128.049l.894 2.73-.247-.19L2.278.623.433 1.688l.742 2.27-.287-.308-.782-2.358Z"})]})}function Ve({size:t=48}){return e.jsxs("svg",{width:t,height:t,viewBox:"0 0 48 48",children:[e.jsx("path",{fill:"#2B80FF",stroke:"#163A71",d:"M9.108 20.84 7.95 23.163a4.266 4.266 0 0 0 .8 4.92 4.271 4.271 0 0 1 1.206 2.415l.878 6.156a3.046 3.046 0 0 0 1.325 2.103 3.064 3.064 0 0 0 1.702.516h3.63a1.257 1.257 0 0 1 1.23 1.006l.34 1.7c.145.725.5 1.391 1.024 1.915A3.77 3.77 0 0 0 22.753 45h.241a4.36 4.36 0 0 0 1.427-.24l3.94-1.364a10.28 10.28 0 0 0 4.595-3.207l1.434-1.754a5.207 5.207 0 0 0 1.108-4.138 5.205 5.205 0 0 1 .661-3.498l2.015-3.396a16.059 16.059 0 0 0 2.136-6.29l.075-.629a16.295 16.295 0 0 0-1.047-7.976l-.129-.323a14.23 14.23 0 0 0-2.403-3.974 14.284 14.284 0 0 0-5.54-3.972l-.295-.118A15.62 15.62 0 0 0 25.16 3h-1.494a13.64 13.64 0 0 0-4.797.871l-.081.03a13.207 13.207 0 0 0-4.703 3.033 13.158 13.158 0 0 0-2.785 4.12l-.066.153a13.988 13.988 0 0 0-1.058 4.111l-.278 2.788a7.874 7.874 0 0 1-.79 2.734Z"}),e.jsx("path",{fill:"#D5E6FF",d:"M37 18c0 6.627-5.373 12-12 12s-12-5.373-12-12S18.373 6 25 6s12 5.373 12 12Z"}),e.jsx("path",{fill:"#2B80FF",d:"M22.322 23.04c0 1.16-.953 2.102-2.128 2.102-1.176 0-2.129-.941-2.129-2.102 0-1.16.953-2.102 2.129-2.102 1.175 0 2.128.941 2.128 2.102Zm7.845-1.706c0 1.16-.953 2.102-2.129 2.102-1.175 0-2.128-.941-2.128-2.102 0-1.16.953-2.102 2.128-2.102 1.176 0 2.129.941 2.129 2.102Z"}),e.jsx("path",{fill:"#2B80FF",d:"M21.496 12.888a.308.308 0 0 1 .242-.306l7.867-1.716c.19-.042.37.1.373.295l.162 10.016-.625-.889-.096-7.388-7.244 1.646.132 8.325-.636-1.321-.175-8.662Z"})]})}function Ne({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M400-120q-66 0-113-47t-47-113q0-66 47-113t113-47q23 0 42.5 5.5T480-418v-422h240v160H560v400q0 66-47 113t-113 47Z"})})}function kt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-120q-151 0-255.5-46.5T120-280v-400q0-66 105.5-113T480-840q149 0 254.5 47T840-680v400q0 67-104.5 113.5T480-120Zm0-479q89 0 179-25.5T760-679q-11-29-100.5-55T480-760q-91 0-178.5 25.5T200-679q14 30 101.5 55T480-599Zm0 199q42 0 81-4t74.5-11.5q35.5-7.5 67-18.5t57.5-25v-120q-26 14-57.5 25t-67 18.5Q600-528 561-524t-81 4q-42 0-82-4t-75.5-11.5Q287-543 256-554t-56-25v120q25 14 56 25t66.5 18.5Q358-408 398-404t82 4Zm0 200q46 0 93.5-7t87.5-18.5q40-11.5 67-26t32-29.5v-98q-26 14-57.5 25t-67 18.5Q600-328 561-324t-81 4q-42 0-82-4t-75.5-11.5Q287-343 256-354t-56-25v99q5 15 31.5 29t66.5 25.5q40 11.5 88 18.5t94 7Z"})})}function Me({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M560-131v-82q90-26 145-100t55-168q0-94-55-168T560-749v-82q124 28 202 125.5T840-481q0 127-78 224.5T560-131ZM120-360v-240h160l200-200v640L280-360H120Zm440 40v-322q47 22 73.5 66t26.5 96q0 51-26.5 94.5T560-320ZM400-606l-86 86H200v80h114l86 86v-252ZM300-480Z"})})}function Bt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M280-360v-240h160l200-200v640L440-360H280Zm80-80h114l86 86v-252l-86 86H360v80Zm100-40Z"})})}function Ge({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-480ZM202-65l-56-57 118-118h-90v-80h226v226h-80v-89L202-65Zm278-15v-80h240v-440H520v-200H240v400h-80v-400q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H480Z"})})}function Ot({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v240h-80v-200H520v-200H240v640h360v80H240Zm638 15L760-183v89h-80v-226h226v80h-90l118 118-56 57Zm-638-95v-640 640Z"})})}function Wt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})}function ye({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 12 12",children:e.jsx("circle",{cx:"6",cy:"6",r:"2",fill:n})})}function Rt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M640-160q-50 0-85-35t-35-85q0-50 35-85t85-35q11 0 21 1.5t19 6.5v-328h200v80H760v360q0 50-35 85t-85 35ZM120-320v-80h320v80H120Zm0-160v-80h480v80H120Zm0-160v-80h480v80H120Z"})})}function qt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"})})}function Ht({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"m562-225 199-199-57-56-142 142-56-57-57 57 113 113ZM280-360h120v-80H280v80Zm0-120h280v-80H280v80Zm0-120h280v-80H280v80ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})}function $t({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M320-200v-560l440 280-440 280Z"})})}function Vr({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:n,children:e.jsx("path",{color:n,d:"M10.5 12.667c.482-.396 1.045-.74 1.73-.938.804-.246 2.012-.183 2.812.612 1.76 2.081.66 4.256-.19 5.685-.974 1.501-2.282 2.635-3.685 3.554-.214.14-.437.276-.667.411V22h-1V3h1v9.667Zm3.151 1.111c-.306-.416-1.538-.278-2.63.325-.181.096-.344.186-.521.29v6.027c1.12-.999 2.112-2.108 2.782-3.331.707-1.2.927-2.85.37-3.31Z"})})}function Gr({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:n,children:e.jsx("path",{color:n,d:"m15 7.045 3-.545v2l-3 .545v5.5L18 14v2l-3 .545V21h-1v-4.273l-3 .546V22h-1v-4.546L7 18v-2l3-.546v-5.5L7 10.5v-2l3-.546V3h1v4.772l3-.545V2h1v5.045Zm-4 2.727v5.5l3-.545v-5.5l-3 .545Z"})})}function Pe({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z"})})}function K({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"})})}function ze({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-40q-33 0-56.5-23.5T400-120q0-33 23.5-56.5T480-200q33 0 56.5 23.5T560-120q0 33-23.5 56.5T480-40ZM240-760q-33 0-56.5-23.5T160-840q0-33 23.5-56.5T240-920q33 0 56.5 23.5T320-840q0 33-23.5 56.5T240-760Zm0 240q-33 0-56.5-23.5T160-600q0-33 23.5-56.5T240-680q33 0 56.5 23.5T320-600q0 33-23.5 56.5T240-520Zm0 240q-33 0-56.5-23.5T160-360q0-33 23.5-56.5T240-440q33 0 56.5 23.5T320-360q0 33-23.5 56.5T240-280Zm480-480q-33 0-56.5-23.5T640-840q0-33 23.5-56.5T720-920q33 0 56.5 23.5T800-840q0 33-23.5 56.5T720-760ZM480-280q-33 0-56.5-23.5T400-360q0-33 23.5-56.5T480-440q33 0 56.5 23.5T560-360q0 33-23.5 56.5T480-280Zm240 0q-33 0-56.5-23.5T640-360q0-33 23.5-56.5T720-440q33 0 56.5 23.5T800-360q0 33-23.5 56.5T720-280Zm0-240q-33 0-56.5-23.5T640-600q0-33 23.5-56.5T720-680q33 0 56.5 23.5T800-600q0 33-23.5 56.5T720-520Zm-240 0q-33 0-56.5-23.5T400-600q0-33 23.5-56.5T480-680q33 0 56.5 23.5T560-600q0 33-23.5 56.5T480-520Zm0-240q-33 0-56.5-23.5T400-840q0-33 23.5-56.5T480-920q33 0 56.5 23.5T560-840q0 33-23.5 56.5T480-760Z"})})}function Ke({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:n,children:e.jsx("path",{color:n,d:"M18.1 2A3.9 3.9 0 0 1 22 5.9v12.2a3.9 3.9 0 0 1-3.9 3.9H5.9A3.9 3.9 0 0 1 2 18.1V5.9A3.9 3.9 0 0 1 5.9 2h12.2Zm-.09 12.7h1.295V9.3H18.01v5.4Zm-13.294-.027h1.317v-4.001h.683v4h1.307v-4h.659v4h1.347v-4.2a1.2 1.2 0 0 0-1.2-1.2H4.716v5.4Zm5.988 0H12v-5.4h-1.296v5.4Zm1.972-5.4v1.386h3.31v2.656h-1.973V11.28H12.68v3.394h3.454a1.2 1.2 0 0 0 1.2-1.2v-4.2h-4.658Z"})})}function Lt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M440-120v-240h80v80h320v80H520v80h-80Zm-320-80v-80h240v80H120Zm160-160v-80H120v-80h160v-80h80v240h-80Zm160-80v-80h400v80H440Zm160-160v-240h80v80h160v80H680v80h-80Zm-480-80v-80h400v80H120Z"})})}function Ue({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})})}function Zt({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"})})}function Ft({size:t=24,color:n=f}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"})})}const Vt="_button_16vt7_1",Gt="_fullWidth_16vt7_51",zt="_contained_16vt7_77",Kt="_disabled_16vt7_119",Ut="_outlined_16vt7_139",Jt="_active_16vt7_167",Qt="_text_16vt7_195",G={button:Vt,"size-small":"_size-small_16vt7_27","size-medium":"_size-medium_16vt7_35","size-large":"_size-large_16vt7_43",fullWidth:Gt,"round-small":"_round-small_16vt7_61","round-full":"_round-full_16vt7_69",contained:zt,disabled:Kt,outlined:Ut,active:Jt,text:Qt,"text-secondary":"_text-secondary_16vt7_207"};function m({variant:t="contained",round:n="small",text:a="",size:r="small",fullWidth:s=!1,icon:i=null,disabled:h,active:c,...o}){return e.jsxs("button",{className:`${G.button} ${G[`size-${r}`]} ${G[t]} ${h?G.disabled:""} ${c?G.active:""} ${G[`round-${n}`]} ${s?G.fullWidth:""} `,disabled:h,...o,children:[i||"",a]})}const Yt=["Major","Minor","Lydian","Dorian","Mixolydian","Phrygian","Locrian"],Je={Major:{degrees:[{degree:"I",chordType:"Major"},{degree:"ii",chordType:"Minor"},{degree:"iii",chordType:"Minor"},{degree:"IV",chordType:"Major"},{degree:"V",chordType:"Major"},{degree:"vi",chordType:"Minor"},{degree:"vii°",chordType:"Diminished"}],scaleSteps:[2,2,1,2,2,2,1]},Minor:{degrees:[{degree:"i",chordType:"Minor"},{degree:"ii°",chordType:"Diminished"},{degree:"III",chordType:"Major"},{degree:"iv",chordType:"Minor"},{degree:"v",chordType:"Minor"},{degree:"VI",chordType:"Major"},{degree:"VII",chordType:"Major"}],scaleSteps:[2,1,2,2,1,2,2]},Lydian:{degrees:[{degree:"I",chordType:"Major"},{degree:"II",chordType:"Major"},{degree:"iii",chordType:"Minor"},{degree:"iv°",chordType:"Diminished"},{degree:"V",chordType:"Major"},{degree:"vi",chordType:"Minor"},{degree:"vii",chordType:"Minor"}],scaleSteps:[2,2,2,1,2,2,1]},Dorian:{degrees:[{degree:"i",chordType:"Minor"},{degree:"ii",chordType:"Minor"},{degree:"III",chordType:"Major"},{degree:"IV",chordType:"Major"},{degree:"v",chordType:"Minor"},{degree:"vi°",chordType:"Diminished"},{degree:"VII",chordType:"Major"}],scaleSteps:[2,1,2,2,2,1,2]},Mixolydian:{degrees:[{degree:"I",chordType:"Major"},{degree:"ii",chordType:"Minor"},{degree:"iii°",chordType:"Diminished"},{degree:"IV",chordType:"Major"},{degree:"v",chordType:"Minor"},{degree:"vi",chordType:"Minor"},{degree:"VII",chordType:"Major"}],scaleSteps:[2,2,1,2,2,1,2]},Phrygian:{degrees:[{degree:"i",chordType:"Minor"},{degree:"II",chordType:"Major"},{degree:"iii",chordType:"Minor"},{degree:"iv",chordType:"Minor"},{degree:"V°",chordType:"Diminished"},{degree:"VI",chordType:"Major"},{degree:"vii",chordType:"Minor"}],scaleSteps:[1,2,2,2,1,2,2]},Locrian:{degrees:[{degree:"i°",chordType:"Diminished"},{degree:"II",chordType:"Major"},{degree:"iii",chordType:"Minor"},{degree:"iv",chordType:"Minor"},{degree:"V",chordType:"Major"},{degree:"vi",chordType:"Minor"},{degree:"vii",chordType:"Minor"}],scaleSteps:[1,2,2,1,2,2,2]}};function Qe(t,n){const a=Je[n].scaleSteps;let r=ae.indexOf(t);if(r===-1)return[];const s=[t];for(let i=0;i<a.length-1;i++)r=(r+a[i])%ae.length,s.push(ae[r]);return s}function Xt(t,n){const a=Qe(t,n),r=Je[n].degrees,s=[];for(let i=0;i<r.length;i++){const h=r[i],c=[a[i%7],a[(i+2)%7],a[(i+4)%7]],o=`${a[i]} ${h.chordType}`,l={degree:h.degree,chordType:h.chordType,chordName:o,chordNotes:c};s.push(l)}return s}const R=["C","D","E","F","G","A","B"],zr=["C#","D#","F#","G#","A#"],ae=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],en={C:0,D:2,E:4,F:5,G:7,A:9,B:11},tn={treble:{name:"F",accidental:null,octave:5},bass:{name:"A",accidental:null,octave:3}},nn={treble:{name:"E",accidental:null,octave:4},bass:{name:"G",accidental:null,octave:2}},ke={Sharp:"#",Flat:"b"};class an{name;accidental;octave;constructor(n,a,r){this.name=n,this.accidental=a,this.octave=r}}function Kr(t,n,a){const r=b(n.minOctave),s=b(n.maxOctave),i=Math.min(r,s),h=Math.max(r,s),c=Math.floor(Math.random()*(h-i+1))+i;let o=Ie(c),l=null;if(a){const p=[];a.naturals&&p.push("n"),a.sharps&&p.push("#"),a.flats&&p.push("b"),p.length>0&&(l=p[Math.floor(Math.random()*p.length)],l==="n"&&(l=null))}if(o.accidental=l,r!==s&&t&&o.name===t.name&&o.octave===t.octave){const p=R.findIndex(g=>g==t.name),x=R[(p+1)%R.length];let d={...o,name:x};b(d)>h&&(d=n.minOctave),o=d}return o}function Ur(t,n){let a=t[Math.floor(Math.random()*t.length)];if(!n)return a;if(a.name===n.name&&a.octave===n.octave){let r=t.findIndex(s=>s===a);a=t[(r+1)%t.length]}return a}function Ye(t,n){const a=b(t),r=b(n);return t.octave?a===r:a%12===r%12}function Jr(t,n){return!!(t.name===n.name&&t.accidental===n.accidental||Ye(t,n))}function Qr(t,n){return!!(t.name===n.name&&t.accidental===n.accidental&&t.octave===n.octave||Ye(t,n))}function b(t){const n=en[t.name];let a=0;t.accidental===ke.Sharp&&(a=1),t.accidental===ke.Flat&&(a=-1);const r=t.octave?t.octave:0;return n+a+r*12}function Ie(t){const n=Math.floor(t/12),a=ae[t%12];let r,s=null;return a.includes("#")?(r=a[0],s="#"):r=a,{name:r,accidental:s,octave:n}}function ce(t,n){const a=R.findIndex(c=>c===t.name),r=R.length,s=((a+n)%r+r)%r;let i=0;return a+n>r-1?i=1:a+n<0&&(i=-1),{...t,name:R[s],octave:t.octave?t.octave+i:null}}function Yr(t,n){const a=tn[n];if(!t.octave||!a.octave)return-1;const r=R.indexOf(a.name),s=R.indexOf(t.name),i=(t.octave-a.octave)*7+(s-r);return i<=0?0:Math.ceil(i/2)}function Xr(t,n){const a=nn[n];if(!t.octave||!a.octave)return-1;const r=R.indexOf(a.name),s=R.indexOf(t.name),i=(a.octave-t.octave)*7+(r-s);return i<=0?0:Math.ceil(i/2)}function le(t){return`${t.name}/${t.octave}`}function rn(t){return new an(t.name.toUpperCase(),t.accidental,t.octave)}function he(t){return`${t.name}${t.accidental?t.accidental:""}${t.octave?t.octave:""}`}const $=Ze((t,n)=>({onButtonInput:()=>{},setButtonInputListener:a=>t({onButtonInput:a}),triggerButtonInput:a=>{const r=n().onButtonInput;r&&r(a)},midiListeners:[],addMidiListener:a=>t(r=>({midiListeners:[...r.midiListeners,a]})),removeMidiListener:a=>t(r=>({midiListeners:r.midiListeners.filter(s=>s!==a)})),triggerMidiInput:a=>{const r=n().midiListeners;for(const s of r)s(a)},disableMidiAutoReconnect:()=>cn(),enableMidiAutoReconnect:()=>on(n),connectMidiDevice:()=>Xe(n),disconnectMidiDevice:()=>sn(),forceMidiInput:a=>{n().triggerMidiInput(a!==null?a:{name:"C",accidental:null,octave:4})},isMidiDeviceConnected:!1,setIsMidiDeviceConnected:a=>{t({isMidiDeviceConnected:a})},midiDeviceErrorMessage:null,setMidiDeviceErrorMessage:a=>{t({midiDeviceErrorMessage:a})}}));function Xe(t){const n=t().setMidiDeviceErrorMessage,a=t().setIsMidiDeviceConnected;W.enable().then(()=>{if(W.inputs.length<1){n("No Devices found"),a(!1);return}t().disconnectMidiDevice(),W.inputs.forEach(r=>{r.addListener("noteon",s=>{t().triggerMidiInput(rn(s.note))})}),et(t),n(null),a(!0)}).catch(r=>{n(r),a(!1)})}function sn(){W.inputs.forEach(t=>{t.removeListener()})}function on(t){W.removeListener("connected"),W.addListener("connected",n=>{n.port.type==="input"&&Xe(t)}),et(t)}function cn(){W.removeListener("connected")}function et(t){W.removeListener("disconnected"),W.addListener("disconnected",n=>{n.port.type==="input"&&W.inputs.length<1&&(t().setIsMidiDeviceConnected(!1),t().setMidiDeviceErrorMessage("MIDI device disconnected"))})}const ln="_PageWrapper_2tn1z_1",dn={PageWrapper:ln},un="_BackButtonWrapper_1rzka_1",hn={BackButtonWrapper:un};function U({onBack:t}){return e.jsx("div",{className:hn.BackButtonWrapper,children:e.jsx(m,{onClick:t,icon:e.jsx(Ft,{}),text:"Back",variant:"text-secondary"})})}const pn="_cardWrapper_17e0x_1",vn="_Clickable_17e0x_21",Be={cardWrapper:pn,Clickable:vn};function y({children:t,onClick:n,marginTop:a,...r}){return e.jsx("div",{className:`${Be.cardWrapper} ${n?Be.Clickable:""}`,onClick:n,style:{marginTop:a},...r,children:t})}const mn="_Toggle_1hvmj_1",xn="_Thumb_1hvmj_25",fn="_Checked_1hvmj_53",je={Toggle:mn,Thumb:xn,Checked:fn};function pe({value:t,initial:n=!1,onChange:a}){const[r,s]=v.useState(n),i=t!==void 0,h=i?t:r,c=()=>{const o=!h;i||s(o),a?.(o)};return e.jsx("button",{type:"button",className:`${je.Toggle} ${h?je.Checked:""}`,onClick:c,"aria-pressed":h,children:e.jsx("div",{className:je.Thumb})})}const Cn="_SizeWrapper_15mgn_19",jn="_PWASizeWrapper_15mgn_31",gn="_CardsWrapper_15mgn_43",_n="_InputDeviceHeader_15mgn_55",Nn="_InputDeviceDropDownButton_15mgn_75",yn="_Rotated_15mgn_75",In="_InputDeviceTextContainer_15mgn_93",Tn="_InputDeviceTextItem_15mgn_105",Sn="_InputDeviceButtonContainer_15mgn_125",Mn="_ExpandedContent_15mgn_141",Dn="_Show_15mgn_161",bn="_ExpandedContentButtonContainer_15mgn_175",En="_ErrorText_15mgn_187",wn="_MidiPlaybackExapandedContent_15mgn_197",u={SizeWrapper:Cn,PWASizeWrapper:jn,CardsWrapper:gn,InputDeviceHeader:_n,InputDeviceDropDownButton:Nn,Rotated:yn,InputDeviceTextContainer:In,InputDeviceTextItem:Tn,InputDeviceButtonContainer:Sn,ExpandedContent:Mn,Show:Dn,ExpandedContentButtonContainer:bn,ErrorText:En,MidiPlaybackExapandedContent:wn};function tt(t,n){const[a,r]=v.useState(()=>{try{const s=localStorage.getItem(t);return s?JSON.parse(s):n}catch(s){return console.warn(`Error reading localStorage key “${t}”:`,s),n}});return v.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(a))}catch(s){console.warn(`Error writing localStorage key “${t}”:`,s)}},[t,a]),[a,r]}const An="appPreferences",Oe={inputType:"buttons",midiPlaybackEnabled:!1,midiPlaybackVolume:50,midiDeviceAutoConnect:!1};function X(){const[t,n]=tt(An,Oe);return{prefs:t,setInputType:i=>{n({...t,inputType:i})},resetPreferences:()=>n(Oe),setPrefsByKey:(i,h)=>{n({...t,[i]:h})}}}function Pn({onBack:t}){return e.jsxs("div",{className:u.SizeWrapper,children:[e.jsx(U,{onBack:t}),e.jsxs("div",{className:u.CardsWrapper,children:[e.jsx(kn,{}),e.jsx(Bn,{})]})]})}function kn({}){const[t,n]=v.useState(!1),a=$(d=>d.connectMidiDevice),r=$(d=>d.enableMidiAutoReconnect),s=$(d=>d.disableMidiAutoReconnect),i=$(d=>d.midiDeviceErrorMessage),h=$(d=>d.isMidiDeviceConnected),{setPrefsByKey:c,prefs:o}=X(),[l,p]=v.useState(o.midiDeviceAutoConnect);function x(d){p(d),c("midiDeviceAutoConnect",d),d?r():s()}return e.jsxs(y,{children:[e.jsxs("div",{className:u.InputDeviceHeader,children:[e.jsxs("div",{className:u.InputDeviceTextContainer,children:[e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(Ke,{}),e.jsx("p",{children:"External MIDI Device"})]}),e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(ye,{color:h?"var(--color-success)":"var(--color-error)"}),e.jsxs("p",{className:"caption-secondary",children:["MIDI ",h?"Connected":"Disconnected"]})]})]}),e.jsx("div",{className:`${u.InputDeviceDropDownButton} ${t&&u.Rotated}`,children:e.jsx(m,{icon:e.jsx(K,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${u.ExpandedContent} ${t?u.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"Connect your MIDI compatible keyboard in the app to read your inputs directly. "}),e.jsx("p",{className:`caption-secondary ${u.ErrorText}`,children:i&&`Error: ${i}`}),e.jsxs("div",{className:u.InputDeviceButtonContainer,children:[e.jsx("p",{children:"Auto Reconnect"}),e.jsx(pe,{value:l,onChange:x})]}),e.jsx("div",{className:u.ExpandedContentButtonContainer,children:h?e.jsx(m,{text:"Disconnect",onClick:a}):e.jsx(m,{text:"Connect",onClick:a})})]})]})}function Bn({}){const{setInputType:t,prefs:n}=X(),[a,r]=v.useState(n.inputType);function s(i){a===i?(r(null),t(null)):(r(i),t(i))}return e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsx("div",{className:u.InputDeviceHeader,children:e.jsxs("div",{className:u.InputDeviceTextContainer,children:[e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(ze,{}),e.jsx("p",{children:"Buttons"})]}),e.jsx("div",{className:u.InputDeviceButtonContainer,children:e.jsx(pe,{value:a=="buttons",onChange:i=>s("buttons")})})]})})}),e.jsx(y,{children:e.jsx("div",{className:u.InputDeviceHeader,children:e.jsxs("div",{className:u.InputDeviceTextContainer,children:[e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(Fe,{}),e.jsx("p",{children:"Piano Roll"})]}),e.jsx("div",{className:u.InputDeviceButtonContainer,children:e.jsx(pe,{value:a=="piano",onChange:i=>s("piano")})})]})})})]})}const On="_InputWrapper_13nar_1",Wn="_Input_13nar_1",Rn="_InputSelect_13nar_77",qn="_SliderWrapper_13nar_153",Hn="_SliderValue_13nar_163",$n="_SliderLabel_13nar_175",Ln="_Hide_13nar_189",Zn="_Slider_13nar_153",Fn="_CustomFileInput_13nar_233",E={InputWrapper:On,Input:Wn,InputSelect:Rn,Error:"_Error_13nar_145",SliderWrapper:qn,SliderValue:Hn,SliderLabel:$n,Hide:Ln,Slider:Zn,CustomFileInput:Fn};function Vn({value:t,onChange:n,min:a=0,max:r=100,step:s=1,label:i="Slider",hideLabel:h=!1,hideValue:c=!1}){const o=l=>{n(Number(l.target.value))};return e.jsxs("div",{className:E.SliderWrapper,children:[e.jsxs("label",{className:`${E.SliderLabel}`,children:[e.jsx("p",{className:`caption-secondary ${h&&E.Hide}`,children:i}),e.jsx("input",{type:"range",min:a,max:r,step:s,value:t,onChange:o,className:E.Slider})]}),!c&&e.jsx("p",{className:E.SliderValue,children:t})]})}function es(t){const n=Math.floor(t/60),a=t%60;return`${n}:${a.toString().padStart(2,"0")}`}async function Gn(t){const n=await caches.keys();let a=0;const r={};for(const s of n){const i=await caches.open(s),c=(await i.keys()).filter(l=>l.url.includes(t)),o=await Promise.all(c.map(async l=>{const p=await i.match(l);if(!p)return{url:l.url,size:0};try{const x=await p.clone().blob();return{url:l.url,size:x.size}}catch{return{url:l.url,size:0}}}));for(const{url:l,size:p}of o)p>0&&(r[l]=p,a+=p)}return{totalBytes:a,totalKB:Math.round(a/1024),details:r}}function zn({onBack:t}){return e.jsxs("div",{className:u.SizeWrapper,children:[e.jsx(U,{onBack:t}),e.jsxs("div",{className:u.CardsWrapper,children:[e.jsx(Kn,{}),e.jsx(Un,{})]})]})}function Kn(){const{setPrefsByKey:t,prefs:n}=X(),[a,r]=v.useState(!1),[s,i]=v.useState(n.midiPlaybackEnabled),[h,c]=v.useState(null);v.useEffect(()=>{async function l(){const p=await Gn("/piano_samples/");c(p.totalKB.toString())}l()},[]);function o(l){i(l),t("midiPlaybackEnabled",l)}return e.jsxs(y,{children:[e.jsxs("div",{className:u.InputDeviceHeader,children:[e.jsxs("div",{className:u.InputDeviceTextContainer,children:[e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(Me,{}),e.jsx("p",{children:"Enable MIDI Playback"})]}),e.jsx("div",{className:u.InputDeviceTextItem,children:e.jsx(pe,{value:s,onChange:o})})]}),e.jsx("div",{className:`${u.InputDeviceDropDownButton} ${a&&u.Rotated}`,children:e.jsx(m,{icon:e.jsx(K,{}),onClick:()=>r(!a),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${u.ExpandedContent} ${u.MidiPlaybackExapandedContent} ${a?u.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"MIDI playback can be used in certain features of this application, which will playback requested piano sounds."}),e.jsxs("p",{className:"caption-secondary",children:["Current Cached Samples: ",e.jsxs("span",{className:"body",children:[h||"-","kb"]})]})]})]})}function Un(){const{setPrefsByKey:t,prefs:n}=X(),[a,r]=v.useState(n.midiPlaybackVolume);function s(i){r(i),t("midiPlaybackVolume",i)}return e.jsx(y,{children:e.jsx("div",{className:u.InputDeviceHeader,children:e.jsxs("div",{className:u.InputDeviceTextContainer,children:[e.jsx("div",{className:u.InputDeviceTextItem,children:e.jsx("p",{children:"Volume"})}),e.jsxs("div",{className:`${u.InputDeviceTextItem}`,children:[e.jsx(Bt,{}),e.jsx(Vn,{onChange:s,min:0,max:100,value:a,label:"Volume",hideLabel:!0,step:5}),e.jsx(Me,{})]})]})})})}const Jn="drillResults";function xe(){const[t,n]=tt(Jn,[]);return{addResult:o=>{const l={date:new Date().toISOString(),...o};n([...t,l])},clearResults:()=>{n([]),alert("All data cleared.")},getResults:()=>t,getResultsById:o=>t.filter(l=>l.id===o),exportResults:()=>{const o=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),l=URL.createObjectURL(o),p=document.createElement("a");p.href=l,p.download=`drill_results_backup_${Date.now()}.json`,p.click(),URL.revokeObjectURL(l)},importResults:async o=>{const l=await o.text();try{const p=JSON.parse(l);if(!Yn(p))throw new Error("Invalid drill results structure");n(p),alert("Data successfully imported!")}catch(p){console.error("Failed to import results:",p),alert("The JSON file is invalid or corrupted.")}}}}function Qn(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.score=="number"&&typeof t.date=="string"&&typeof t.correctNotes=="number"&&typeof t.totalNotes=="number"&&typeof t.correctNotesPerMinute=="number"}function Yn(t){return Array.isArray(t)&&t.every(Qn)}function Xn({accept:t,onFileSelect:n}){const a=r=>{const s=r.target.files?.[0];s&&n(s)};return e.jsx("input",{type:"file",accept:t,onChange:a,className:E.CustomFileInput})}function ea({onBack:t}){return e.jsxs("div",{className:u.SizeWrapper,children:[e.jsx(U,{onBack:t}),e.jsxs("div",{className:u.CardsWrapper,children:[e.jsx(ta,{}),e.jsx(na,{}),e.jsx(aa,{})]})]})}function ta(){const[t,n]=v.useState(!1),{exportResults:a}=xe();return e.jsxs(y,{children:[e.jsxs("div",{className:u.InputDeviceHeader,children:[e.jsx("div",{className:u.InputDeviceTextContainer,children:e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(Ge,{}),e.jsx("p",{children:"Export Data"})]})}),e.jsx("div",{className:`${u.InputDeviceDropDownButton} ${t&&u.Rotated}`,children:e.jsx(m,{icon:e.jsx(K,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${u.ExpandedContent} ${u.MidiPlaybackExapandedContent} ${t?u.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"Export your data in a convenient file that can be later imported into the app!"}),e.jsx("p",{className:"caption-secondary",children:"Clicking export data below will download a JSON file that will contain your data from preset drill runs. This is mainly used for a personal backup of data in wanted."}),e.jsx("div",{className:u.ExpandedContentButtonContainer,children:e.jsx(m,{text:"Export Data",onClick:a})})]})]})}function na(){const[t,n]=v.useState(!1),a=v.useRef(void 0),{importResults:r}=xe();function s(){a.current&&r(a.current)}function i(h){a.current=h}return e.jsxs(y,{children:[e.jsxs("div",{className:u.InputDeviceHeader,children:[e.jsx("div",{className:u.InputDeviceTextContainer,children:e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(Ot,{}),e.jsx("p",{children:"Import Data"})]})}),e.jsx("div",{className:`${u.InputDeviceDropDownButton} ${t&&u.Rotated}`,children:e.jsx(m,{icon:e.jsx(K,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${u.ExpandedContent} ${u.MidiPlaybackExapandedContent} ${t?u.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"Import app data from a JSON file to get back where you started!"}),e.jsx("p",{className:"caption-secondary",children:"Importing data will ERASE current stored data, so only use this feature as a means to restore a personal backup of app data."}),e.jsx(Xn,{accept:"application/json",onFileSelect:i}),e.jsx("div",{className:u.ExpandedContentButtonContainer,children:e.jsx(m,{text:"Import Data",onClick:s})})]})]})}function aa(){const[t,n]=v.useState(!1),{clearResults:a}=xe();function r(){a()}return e.jsxs(y,{children:[e.jsxs("div",{className:u.InputDeviceHeader,children:[e.jsx("div",{className:u.InputDeviceTextContainer,children:e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(Wt,{}),e.jsx("p",{children:"Clear App Data"})]})}),e.jsx("div",{className:`${u.InputDeviceDropDownButton} ${t&&u.Rotated}`,children:e.jsx(m,{icon:e.jsx(K,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${u.ExpandedContent} ${u.MidiPlaybackExapandedContent} ${t?u.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"This option will CLEAR ALL application data. If you would like, please export your data first, then clear if you would like to later backup your data."}),e.jsx("div",{className:u.ExpandedContentButtonContainer,children:e.jsx(m,{text:"CLEAR ALL DATA",onClick:r})})]})]})}function ra(){const[t,n]=v.useState(null),[a,r]=v.useState(!1);v.useEffect(()=>{const i=h=>{h.preventDefault(),n(h),r(!0)};return window.addEventListener("beforeinstallprompt",i),()=>{window.removeEventListener("beforeinstallprompt",i)}},[]);async function s(){if(!t)return;t.prompt();const{outcome:i}=await t.userChoice;n(null),r(!1)}return{isInstallable:a,promptInstall:s}}function sa({onBack:t}){return e.jsxs("div",{className:u.PWASizeWrapper,children:[e.jsx(U,{onBack:t}),e.jsx("div",{className:u.CardsWrapper,children:e.jsx(ia,{})})]})}function ia(){const{isInstallable:t,promptInstall:n}=ra();return e.jsx(y,{children:e.jsx("div",{className:u.InputDeviceHeader,children:e.jsxs("div",{className:u.InputDeviceTextContainer,children:[e.jsxs("div",{className:u.InputDeviceTextItem,children:[e.jsx(Ge,{}),e.jsx("p",{children:"PWA"})]}),e.jsx("div",{className:u.TextContent,children:e.jsx("p",{children:"Download the PWA of this web application for convenient native-like app experience!"})}),!t&&e.jsx("p",{className:"caption-secondary",children:"(Already installed or not supported)"}),e.jsx("div",{className:u.ExpandedContentButtonContainer,children:e.jsx(m,{text:"Download",onClick:n,disabled:!t})})]})})})}const T={DeviceSetup:"devicesetup",MIDIPlayback:"midiplayback",ManageData:"managedata",PWA:"pwa"};function oa(){const t=Z(),[n]=it(),a=n.get("q");let r="";a&&(r=Object.entries(T).filter(h=>h[1]===a)[0][1]);function s(){t("/")}return e.jsx("div",{className:dn.PageWrapper,children:r===T.DeviceSetup?e.jsx(Pn,{onBack:s}):r===T.MIDIPlayback?e.jsx(zn,{onBack:s}):r===T.ManageData?e.jsx(ea,{onBack:s}):r===T.PWA?e.jsx(sa,{onBack:s}):e.jsx(e.Fragment,{})})}function te(){const[t,n]=v.useState(!1),a=Z(),r=()=>{a("/")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:C.NavbarWrapper,children:e.jsxs("div",{className:C.SizeWrapper,children:[e.jsxs("div",{onClick:r,className:C.IconTextContainer,children:[e.jsx(Ve,{size:40}),e.jsx("h1",{className:"mobile-hide",children:"Music Maestro"}),e.jsx("div",{className:C.TitleContainer})]}),e.jsx(m,{onClick:()=>n(!0),icon:e.jsx(At,{color:"var(--color-dark-2)"}),variant:"text-secondary"})]})}),e.jsx(ca,{isOpen:t,onClose:()=>n(!1)})]})}function ca({isOpen:t,onClose:n}){const a=$(l=>l.isMidiDeviceConnected),r=Z(),s=ot(),{pathname:i,search:h}=s,c=i+h;function o(l){n(),r(l)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${C.Backdrop} ${t?C.show:""}`,onClick:n}),e.jsxs("div",{className:`${C.SidebarWrapper} ${t?C.open:""}`,children:[e.jsxs("div",{className:C.Header,children:[e.jsx(Ve,{size:40}),e.jsx("h1",{className:"truncate-overflow-text",children:"Music Maestro"}),e.jsx(m,{variant:"text-secondary",icon:e.jsx(Ue,{color:"var(--color-dark-2)"}),onClick:n})]}),e.jsx("div",{className:`${C.SidebarItemContainer} ${c==="/"&&C.Active}`,onClick:()=>o("/"),tabIndex:0,children:e.jsxs("div",{className:C.SidebarItemTextContainer,children:[e.jsx(Pt,{}),e.jsx("p",{children:"Home"})]})}),e.jsxs("div",{className:`${C.SidebarItemContainer} ${c===`/config?q=${T.DeviceSetup}`&&C.Active}`,onClick:()=>o(`/config?q=${T.DeviceSetup}`),tabIndex:0,children:[e.jsxs("div",{className:C.SidebarItemTextContainer,children:[e.jsx(Zt,{}),e.jsx("p",{children:"Device Setup"})]}),a?e.jsxs("div",{className:C.SidebarItemSubTextContainer,children:[e.jsx(ye,{color:"var(--color-success)"}),e.jsx("p",{className:"caption-secondary",children:"MIDI Connected"})]}):e.jsxs("div",{className:C.SidebarItemSubTextContainer,children:[e.jsx(ye,{color:"var(--color-error)"}),e.jsx("p",{className:"caption-secondary",children:"MIDI Disconnected"})]})]}),e.jsx("div",{className:`${C.SidebarItemContainer} ${c===`/config?q=${T.MIDIPlayback}`&&C.Active}`,onClick:()=>o(`/config?q=${T.MIDIPlayback}`),tabIndex:0,children:e.jsxs("div",{className:C.SidebarItemTextContainer,children:[e.jsx(Me,{}),e.jsx("p",{children:"MIDI Playback"})]})}),e.jsx("div",{className:`${C.SidebarItemContainer} ${c===`/config?q=${T.ManageData}`&&C.Active}`,onClick:()=>o(`/config?q=${T.ManageData}`),tabIndex:0,children:e.jsxs("div",{className:C.SidebarItemTextContainer,children:[e.jsx(kt,{}),e.jsx("p",{children:"Manage Data"})]})}),e.jsx("div",{className:`${C.SidebarItemContainer} ${c===`/config?q=${T.PWA}`&&C.Active}`,onClick:()=>o(`/config?q=${T.PWA}`),tabIndex:0,children:e.jsxs("div",{className:C.SidebarItemTextContainer,children:[e.jsx(qt,{}),e.jsx("p",{children:"PWA Download"})]})})]})]})}const la="_HomePageWrapper_18tbm_1",da="_SizeWrapper_18tbm_13",ua="_HeaderContainer_18tbm_27",ha="_ItemsContainer_18tbm_35",pa="_CardContainer_18tbm_51",va="_CardContent_18tbm_65",ma="_IconContainer_18tbm_83",M={HomePageWrapper:la,SizeWrapper:da,HeaderContainer:ua,ItemsContainer:ha,CardContainer:pa,CardContent:va,IconContainer:ma},xa="_iconWrapper_1hapw_1",fa={iconWrapper:xa};function ve({icon:t}){return e.jsx("div",{className:fa.iconWrapper,children:t})}function Ca(){const t=Z();function n(){t("/drills")}function a(){t("/keyvisualizer")}return e.jsx("div",{className:M.HomePageWrapper,children:e.jsxs("div",{className:M.SizeWrapper,children:[e.jsx("div",{className:M.HeaderContainer,children:e.jsx("h1",{className:"large-heading",children:"Music Maestro"})}),e.jsxs("div",{className:M.ItemsContainer,children:[e.jsx("h2",{children:"Exercises"}),e.jsx("div",{className:M.CardContainer,children:e.jsx(y,{onClick:n,children:e.jsxs("div",{className:M.CardContent,children:[e.jsx("div",{className:M.IconContainer,children:e.jsx(ve,{icon:e.jsx(Ne,{})})}),e.jsxs("div",{className:M.TextContainer,children:[e.jsx("h2",{className:"heading",children:"Note Drills"}),e.jsx("p",{className:"caption-secondary",children:"Practice your sightreading note identification through note drills!"})]})]})})})]}),e.jsxs("div",{className:M.ItemsContainer,children:[e.jsx("h2",{children:"Resources"}),e.jsx("div",{className:M.CardContainer,children:e.jsx(y,{onClick:a,children:e.jsxs("div",{className:M.CardContent,children:[e.jsx("div",{className:M.IconContainer,children:e.jsx(ve,{icon:e.jsx(Ne,{})})}),e.jsxs("div",{className:M.TextContainer,children:[e.jsx("h2",{className:"heading",children:"Key Visualizer"}),e.jsx("p",{className:"caption-secondary",children:"See and hear what notes and chords go along with a key and mode!"})]})]})})})]})]})})}const ja="_NoteDrillPageWrapper_7z153_1",ga="_HeaderContainer_7z153_11",_a="_CardContainer_7z153_23",Na="_CardContent_7z153_37",ya="_IconContainer_7z153_59",Ia="_TextContainer_7z153_73",Ta="_ButtonContainer_7z153_97",Sa="_DeviceContainer_7z153_107",Ma="_DeviceContainerTextItem_7z153_129",I={NoteDrillPageWrapper:ja,HeaderContainer:ga,CardContainer:_a,CardContent:Na,IconContainer:ya,TextContainer:Ia,ButtonContainer:Ta,DeviceContainer:Sa,DeviceContainerTextItem:Ma},Da="_PresetDrillsWrapper_197s3_1",ba="_CardContainer_197s3_11",Ea="_HeadingContainer_197s3_23",wa="_TextContainer_197s3_31",Aa="_HeaderContainer_197s3_45",Pa="_PracticeButtonContainer_197s3_57",Y={PresetDrillsWrapper:Da,CardContainer:ba,HeadingContainer:Ea,TextContainer:wa,HeaderContainer:Aa,PracticeButtonContainer:Pa},Te=[{name:"Treble Landmark Notes",id:"3b1d93ed-0358-4fe6-979e-85a375de6478",difficulty:"easy",description:"C/G notes for learning landmark system",drillOptions:{timer:60,inclusiveNotes:[{name:"C",accidental:null,octave:4},{name:"G",accidental:null,octave:4},{name:"C",accidental:null,octave:5}],clef:"treble"}},{name:"Bass Landmark Notes",id:"ba032c09-fcc8-461a-b58e-74d492e35320",difficulty:"easy",description:"C/F notes for learning landmark system",drillOptions:{timer:60,inclusiveNotes:[{name:"C",accidental:null,octave:4},{name:"F",accidental:null,octave:3},{name:"C",accidental:null,octave:3}],clef:"bass"}},{name:"Treble Drill",id:"5d24460b-15ac-4288-be18-97f1559b88f9",difficulty:"easy",description:"Play notes from C4 to C5",drillOptions:{timer:60,octaveRange:{minOctave:{name:"C",accidental:null,octave:4},maxOctave:{name:"C",accidental:null,octave:5}},clef:"treble"}},{name:"Bass Drill",id:"7040190f-db2c-4926-a3dc-8e937a620f8a",difficulty:"easy",description:"Play notes from C4 to C3",drillOptions:{timer:60,octaveRange:{minOctave:{name:"C",accidental:null,octave:3},maxOctave:{name:"C",accidental:null,octave:4}},clef:"bass"}}],me=Ze((t,n)=>({currentNote:null,setCurrentNote:a=>t({currentNote:a}),playedNote:null,setPlayedNote:a=>t({playedNote:a}),drillOptions:null,setDrillOptions:a=>{t(r=>({drillOptions:{...r.drillOptions,...a}}))},playedNoteStatus:null,playedStatusNote:null,setPlayedNoteStatus:(a,r)=>t({playedNoteStatus:a,playedStatusNote:r}),isDrillStarted:!1,setIsDrillStarted:a=>t({isDrillStarted:a}),drillTime:0,decrementDrillTime:()=>{n().drillTime<1?t({drillTime:0}):t(a=>({drillTime:Math.max(0,a.drillTime-1)}))},setDrillTime:a=>{t({drillTime:Math.max(0,a)})},timeSinceLastCorrectNote:0,setTimeSinceLastCorrectNote:a=>{t({timeSinceLastCorrectNote:a})},drillScore:0,setDrillScore:a=>t(r=>({drillScore:r.drillScore+a})),resetDrill:()=>{t({playedNote:null,playedNoteStatus:null,playedStatusNote:null,isDrillStarted:!1,timeSinceLastCorrectNote:0,drillTime:0,drillScore:0})},resetDrillOptions:()=>{t({drillOptions:null})}})),We=[{clef:"treble",range:{minOctave:{name:"D",accidental:null,octave:3},maxOctave:{name:"F",accidental:null,octave:7}}},{clef:"bass",range:{minOctave:{name:"F",accidental:null,octave:1},maxOctave:{name:"A",accidental:null,octave:5}}}],nt={octaveRange:{minOctave:{name:"C",accidental:null,octave:4},maxOctave:{name:"C",accidental:null,octave:5}},timer:60,allowedAccidentals:{naturals:!0},clef:"treble"},ka="_backdrop_198tv_1",Ba="_open_198tv_31",Oa="_modal_198tv_41",de={backdrop:ka,open:Ba,modal:Oa},at=v.createContext(null);function Wa({children:t}){const[n,a]=v.useState(null),r=v.useRef(!1),s=v.useCallback(l=>{a(l)},[]),i=v.useCallback(()=>{c(!1),a(null)},[]),h=v.useCallback(()=>{r.current||i()},[]),c=v.useCallback(l=>{r.current=l},[]),o=n!==null;return e.jsxs(at.Provider,{value:{openModal:s,closeModal:i,isOpen:o,setPreventClose:c},children:[t,ct.createPortal(e.jsx("div",{className:`${de.backdrop} ${o?de.open:""}`,onClick:h,children:e.jsx("div",{className:`${de.modal} ${o?de.open:""}`,onClick:l=>l.stopPropagation(),children:n})}),document.body)]})}function re(){const t=v.useContext(at);if(!t)throw new Error("useModal must be used inside ModalProvider");return t}const Ra="_headerContainer_136xt_1",qa={headerContainer:Ra};function Se({children:t,headerText:n,icon:a,overrideExitButtonPressed:r}){const{closeModal:s}=re();function i(){if(r){r();return}s()}return e.jsxs(y,{children:[e.jsxs("div",{className:qa.headerContainer,children:[a,e.jsx("h1",{className:"truncate-overflow-text",children:n}),e.jsx(m,{onClick:i,icon:e.jsx(Ue,{color:"var(--color-text-body-2)"}),variant:"text-secondary"})]}),t]})}const Ha="_ModalActionButtonsContainer_4po04_1",$a="_ModalContentContainer_4po04_15",La="_LineGraphContainer_4po04_29",Za="_DataContainer_4po04_39",Fa="_EmptyGraphContainer_4po04_57",B={ModalActionButtonsContainer:Ha,ModalContentContainer:$a,LineGraphContainer:La,DataContainer:Za,EmptyGraphContainer:Fa},Re=4,ne=10,ge=55,Va=500,qe=20,Ga=6,ue=15;function za({data:t,width:n=600,height:a=140,...r}){const s=v.useRef(null),i=c=>{if(!c||t.length===0)return;const o=c.getContext("2d");if(!o)return;const l=document.documentElement,p=getComputedStyle(l).getPropertyValue("--color-main-2").trim(),x=getComputedStyle(l).getPropertyValue("--color-text-body-1").trim(),d=getComputedStyle(l).getPropertyValue("--color-surface-border-1").trim(),j=getComputedStyle(l).getPropertyValue("--line-graph-label-font").trim();o.clearRect(0,0,n,a);const _=t.slice(-8).map(A=>A.score),S=a-ne*2;let q=Math.min(..._);const F=Math.max(..._,1),J=h(q,F,Re-2,Va).reverse();o.fillStyle=x,o.font=j,o.textAlign="right",o.textBaseline="middle",J.forEach((A,P)=>{const k=ne+S/(Re-1)*P;o.beginPath(),o.strokeStyle=d,o.lineWidth=3,o.setLineDash([8,6]),o.moveTo(ge+qe,k),o.lineTo(n,k),o.stroke(),o.setLineDash([]),o.fillText(A.toString(),ge,k)});const H=ge+qe+ue/2,N=n-ne,D=ne+ue/2,w=a-ne-ue/2,V=w-D,ee=(N-H)/(_.length-1);o.beginPath(),o.strokeStyle=p,o.lineWidth=Ga,_.forEach((A,P)=>{const k=w-(A-q)/(F-q)*V,ie=H+ee*P;P===0?o.moveTo(ie,k):o.lineTo(ie,k)}),o.stroke(),o.fillStyle=p,_.forEach((A,P)=>{const k=w-(A-q)/(F-q)*V,ie=H+ee*P;o.beginPath(),o.arc(ie,k,ue/2,0,Math.PI*2),o.fill()})};function h(c,o,l=2,p=500){const x=l+2,d=p*(x-1);c=Math.floor(c/p)*p,o-c<d&&(o=c+d);const j=(o-c)/(x-1);return Array.from({length:x},(_,S)=>S===0?c:S===x-1?Math.round(o/p)*p:Math.round((c+j*S)/p)*p)}return e.jsx("canvas",{ref:c=>{s.current=c,i(c)},width:n,height:a,...r})}const _e=140,Ka=600;function Ua({presetId:t}){const{closeModal:n}=re(),{getResultsById:a}=xe(),r=Te.find(d=>d.id===t),s=a(t),i=Math.round(s.reduce((d,j)=>d+j.score,0)/s.length),h=s.reduce((d,j)=>d+j.correctNotes,0),c=s.reduce((d,j)=>d+j.totalNotes,0),o=Math.round(h/c*100),l=s.reduce((d,j)=>d+j.correctNotesPerMinute,0),p=Math.round(l/s.length),x=s.map(d=>({...d,score:d.score}));return s.length<1?e.jsxs(Se,{headerText:"Drill Progress",children:[e.jsxs("div",{className:B.ModalContentContainer,children:[e.jsx("h1",{className:"body",children:r?.name&&r?.name}),e.jsxs("div",{className:B.EmptyGraphContainer,style:{minHeight:`${_e}px`},children:[e.jsx(Ae,{scale:2.2}),e.jsx("p",{children:"Practice this drill to see your progress!"})]})]}),e.jsx("div",{className:B.ModalActionButtonsContainer,children:e.jsx(m,{text:"Close",variant:"outlined",fullWidth:!0,onClick:n})})]}):e.jsxs(Se,{headerText:"Drill Progress",children:[s.length<1&&e.jsx("p",{children:"No Data Found!"}),e.jsxs("div",{className:B.ModalContentContainer,children:[e.jsx("h1",{className:"body",children:r?.name&&r?.name}),s.length>1?e.jsx(za,{data:x,width:Ka,height:_e,className:B.LineGraphContainer}):e.jsxs("div",{className:B.EmptyGraphContainer,style:{minHeight:`${_e}px`},children:[e.jsx(Ae,{scale:2.2}),e.jsx("p",{children:"Practice this drill again to see a graph of your progress!"})]}),e.jsx("h2",{className:"body",children:"Average Score"}),e.jsx("p",{className:`heading ${B.DataContainer}`,children:isNaN(i)?0:i}),e.jsx("h2",{className:"body",children:"Average Accuracy"}),e.jsxs("p",{className:`heading ${B.DataContainer}`,children:[isNaN(o)?0:o,"%"]}),e.jsx("h2",{className:"body",children:"Average Correct Notes Per Minute"}),e.jsx("p",{className:`heading ${B.DataContainer}`,children:isNaN(p)?0:p})]}),e.jsx("div",{className:B.ModalActionButtonsContainer,children:e.jsx(m,{text:"Close",variant:"outlined",fullWidth:!0,onClick:n})})]})}function Ja({onBack:t}){const n=me(c=>c.setDrillOptions),a=me(c=>c.setIsDrillStarted),r=Z(),{openModal:s}=re(),i=c=>{const o=Te.find(l=>l.id===c)?.drillOptions;o&&(o.drillId=c,n(o)),o||n(nt),a(!1),r("/drills/start")};function h(c){s(e.jsx(Ua,{presetId:c}))}return e.jsxs("div",{className:Y.PresetDrillsWrapper,children:[e.jsx("div",{className:Y.HeadingContainer,children:e.jsx("h1",{children:"Preset Drills"})}),e.jsx(U,{onBack:t}),e.jsx("div",{className:Y.CardContainer,children:Te.map(c=>e.jsx(Qa,{headerText:c.name,descriptionText:c.description,handleStartPressed:i,handleProgressPressed:h,drillId:c.id},c.id))})]})}function Qa({headerText:t,descriptionText:n,drillId:a,handleStartPressed:r,handleProgressPressed:s}){return e.jsxs(y,{children:[e.jsxs("div",{className:Y.TextContainer,children:[e.jsxs("div",{className:Y.HeaderContainer,children:[e.jsx(Ht,{color:"var(--color-main-2)"}),e.jsx("h2",{className:"heading truncate-overflow-text",children:t})]}),e.jsx("p",{className:"caption-secondary",children:n})]}),e.jsxs("div",{className:Y.PracticeButtonContainer,children:[e.jsx(m,{onClick:()=>s(a),text:"Progress",variant:"outlined",fullWidth:!0}),e.jsx(m,{onClick:()=>r(a),icon:e.jsx($t,{color:"var(--color-text-main-1)"}),text:"Practice",fullWidth:!0})]})]})}const Ya="_CustomDrillsWrapper_1ykbt_1",Xa="_ContentWrapper_1ykbt_13",er="_CardHeaderContainer_1ykbt_23",tr="_InputsContainer_1ykbt_35",nr="_FlexButtonsContainer_1ykbt_65",ar="_SubmitButtonContainer_1ykbt_77",Q={CustomDrillsWrapper:Ya,ContentWrapper:Xa,CardHeaderContainer:er,InputsContainer:tr,FlexButtonsContainer:nr,SubmitButtonContainer:ar};function rt({label:t,htmlName:n,error:a,ref:r,value:s,...i}){return e.jsxs("div",{className:E.InputWrapper,children:[e.jsx("label",{className:"body",htmlFor:n,children:t}),e.jsx("input",{className:E.Input,name:n,id:n,value:s,ref:r,...i}),e.jsxs("p",{className:`caption-secondary truncate-overflow-text ${E.Error}`,children:[" ",a&&`* ${a}`]})]})}function st({label:t,htmlName:n,options:a,defaultValue:r,ref:s,handleChange:i,value:h}){return e.jsxs("div",{className:E.InputWrapper,children:[e.jsx("label",{className:"body",htmlFor:n,children:t}),e.jsx("select",{className:E.InputSelect,name:n,id:n,ref:s,defaultValue:r,onChange:i,value:h,children:a.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))})]})}const rr="_ModalContentContainer_unqo5_1",sr="_ModalFlexContainer_unqo5_9",ir="_OctaveButtonsContainer_unqo5_19",or="_StaveContainer_unqo5_33",cr="_RangeContainer_unqo5_47",lr="_SelectedRangeContainer_unqo5_59",dr="_ModalActionButtonsContainer_unqo5_87",L={ModalContentContainer:rr,ModalFlexContainer:sr,OctaveButtonsContainer:ir,StaveContainer:or,RangeContainer:cr,SelectedRangeContainer:lr,ModalActionButtonsContainer:dr};ht.loadFonts("Bravura");const He=8,ur=4,$e=10,hr=51,pr=72,vr=.5;class mr{context;stave;renderer;svgContext;clef;wrongNoteTimeout;constructor(n,a="treble",r="default",s=1,i=He,h=ur,c=!0){n.innerHTML="";let o=Math.max(i,0);o=Math.min(o+1,He),o==1&&(o+=vr);let l=hr+o*$e;l=l+h*$e,l=Math.max(l,pr),this.renderer=new be(n,be.Backends.SVG),this.renderer.resize(200,l*s),this.context=this.renderer.getContext(),this.svgContext=this.renderer.getContext(),this.context.scale(s,s),c&&this.svgContext.parent.classList.add("stave-scalable"),this.stave=new pt(0,0,200/s-1,{spaceAboveStaffLn:o}),this.clef=a,this.stave.setBegBarType(Ee.type.NONE),this.stave.setEndBarType(Ee.type.NONE),this.stave.addClef(a,r,void 0),this.stave.setContext(this.context).draw()}drawNote(n){this.clearStave();const a=le(n),r=new oe({keys:[a],duration:"w",clef:this.clef,alignCenter:!0});n.accidental&&r.addModifier(new fe(n.accidental)),Ce.FormatAndDraw(this.context,this.stave,[r])}drawListNotes(n){this.clearStave();const a=[];n.forEach(s=>{const i=le(s),h=new oe({keys:[i],duration:"w",clef:this.clef});a.push(h)});const r=new vt({numBeats:8,beatValue:4});r.addTickables(a),new Ce().joinVoices([r]).format([r],this.svgContext.width-40),r.draw(this.context,this.stave)}changeClef(n){this.stave.setClef(n)}drawWrongNote(n,a){this.clearStave(),this.wrongNoteTimeout&&(clearTimeout(this.wrongNoteTimeout),this.wrongNoteTimeout=void 0);const r=new oe({keys:[le(n)],duration:"w",clef:this.clef,alignCenter:!0});n.accidental&&r.addModifier(new fe(n.accidental));const s=new oe({keys:[le(a)],duration:"w",clef:this.clef,alignCenter:!0});a.accidental&&s.addModifier(new fe(a.accidental)),s.setStyle({fillStyle:"var(--color-error)"}),s.setLedgerLineStyle({fillStyle:"var(--color-error)",strokeStyle:"var(--color-error)"}),Ce.FormatAndDraw(this.context,this.stave,[r,s]);let i=s.getSVGElement();i?.classList.add("stave-show-wrong-note"),this.wrongNoteTimeout=setTimeout(()=>{i?.classList.remove("stave-show-wrong-note"),i?.classList.add("stave-hide-wrong-note")},2e3)}clearStave(){const n=this.svgContext.svg;if(!n)return;n.querySelectorAll(":scope > :not(.vf-stave):not(.vf-stavebarline):not(.vf-clef)").forEach(r=>r.remove())}}const z={LEFT_INCREASE_OCTAVE:0,LEFT_DECREASE_OCTAVE:1,RIGHT_INCREASE_OCTAVE:2,RIGHT_DECREASE_OCTAVE:3};function xr({octaveRangeLimit:t,clef:n,setOctaveRange:a}){const[r,s]=v.useState(o()),i=v.useRef(null),h=v.useRef(null),{closeModal:c}=re();function o(){return n==="treble"?{leftNote:{name:"C",accidental:null,octave:4},rightNote:{name:"C",accidental:null,octave:5}}:{leftNote:{name:"C",accidental:null,octave:3},rightNote:{name:"C",accidental:null,octave:4}}}function l(g){if(r)switch(g){case z.LEFT_INCREASE_OCTAVE:p("left",ce(r.leftNote,1));break;case z.LEFT_DECREASE_OCTAVE:p("left",ce(r.leftNote,-1));break;case z.RIGHT_INCREASE_OCTAVE:p("right",ce(r.rightNote,1));break;default:p("right",ce(r.rightNote,-1));break}}function p(g,_){let S={...r},q=b(t.minOctave),F=b(t.maxOctave),J=b(_);J<q||J>F||(g==="left"?(S={...S,leftNote:_},s(H=>({...H,leftNote:_}))):(S={...S,rightNote:_},s(H=>({...H,rightNote:_}))),x(S))}function x(g){h.current?.drawListNotes([g.leftNote,g.rightNote])}function d(){if(!r)return" - ";let g=r.leftNote?he(r.leftNote):"",_=r.rightNote?he(r.rightNote):"";return`${g} - ${_}`}function j(){a(r),c()}return v.useEffect(()=>{if(!i.current)return;const g=new mr(i.current,n,"small",1.5);g&&(h.current=g,h.current?.drawListNotes([r.leftNote,r.rightNote]))},[]),e.jsxs(Se,{headerText:"Octave Selector",icon:e.jsx(Ne,{}),children:[e.jsxs("div",{className:L.ModalContentContainer,children:[e.jsx(fr,{handleButtonPress:l,children:e.jsx("div",{ref:i,className:L.StaveContainer})}),e.jsxs("div",{className:L.RangeContainer,children:[e.jsx("p",{className:"body-secondary",children:"Selected Range"}),e.jsx("div",{className:L.SelectedRangeContainer,children:e.jsx("p",{className:"heading",children:d()})})]})]}),e.jsxs("div",{className:L.ModalActionButtonsContainer,children:[e.jsx(m,{onClick:c,text:"Cancel",variant:"outlined",fullWidth:!0}),e.jsx(m,{text:"Set",variant:"contained",fullWidth:!0,onClick:j})]})]})}function fr({children:t,handleButtonPress:n}){return e.jsxs("div",{className:L.ModalFlexContainer,children:[e.jsxs("div",{className:L.OctaveButtonsContainer,children:[e.jsx(m,{icon:e.jsx(Pe,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(z.LEFT_INCREASE_OCTAVE)}),e.jsx(m,{icon:e.jsx(K,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(z.LEFT_DECREASE_OCTAVE)})]}),t,e.jsxs("div",{className:L.OctaveButtonsContainer,children:[e.jsx(m,{icon:e.jsx(Pe,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(z.RIGHT_INCREASE_OCTAVE)}),e.jsx(m,{icon:e.jsx(K,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(z.RIGHT_DECREASE_OCTAVE)})]})]})}function Cr({onBack:t}){const n=me(N=>N.setDrillOptions),a=me(N=>N.setIsDrillStarted),{openModal:r}=re(),s=Z(),[i,h]=v.useState(),[c,o]=v.useState({minOctave:{name:"C",accidental:null,octave:4},maxOctave:{name:"C",accidental:null,octave:5}}),l=v.useRef(null),p=v.useRef("treble"),x=v.useRef(We.filter(N=>N.clef==="treble")[0].range),[d,j]=v.useState({Naturals:!0,Sharps:!1,Flats:!1});function g(N){const D=N.target.value;p.current=D;const w=We.filter(k=>k.clef===D)[0].range,V=b(c.minOctave),se=b(c.maxOctave),ee=b(w.minOctave),A=b(w.maxOctave),P={...c};V<ee&&(P.minOctave=Ie(ee)),se>A&&(P.maxOctave=Ie(A)),o(P),x.current=w}function _(N){j(D=>({...D,[N]:!D[N]}))}function S(){const N=Number(l.current?.value.trim());let D={timer:""},w=!1;if(!p.current||N===void 0||((N<0||N>999)&&(D.timer="Choose 0 to 999",w=!0),h(D),w))return;let V=!1;!d.Naturals&&!d.Sharps&&!d.Flats&&(V=!0);const se={drillId:void 0,clef:p.current,timer:N,octaveRange:c,allowedAccidentals:{naturals:d.Naturals||V,sharps:d.Sharps,flats:d.Flats}};a(!1),n(se),s("/drills/start")}function q(){n(nt),s("/drills/start")}function F(N){o({minOctave:N.leftNote,maxOctave:N.rightNote})}function J(){if(!c)return" - ";let N=c.minOctave?he(c.minOctave):"",D=c.minOctave?he(c.maxOctave):"";return`${N} - ${D}`}const H=()=>{r(e.jsx(xr,{octaveRangeLimit:x.current,prevOctaveRange:c,clef:p.current,setOctaveRange:F}))};return e.jsx("div",{className:Q.CustomDrillsWrapper,children:e.jsxs("div",{className:Q.ContentWrapper,children:[e.jsx(U,{onBack:t}),e.jsxs(y,{children:[e.jsx("div",{className:Q.CardHeaderContainer,children:e.jsx("h1",{children:"Custom Drill Options"})}),e.jsxs("div",{className:Q.InputsContainer,children:[e.jsx(st,{htmlName:"clef",label:"Clef",options:[{label:"Treble",value:"treble"},{label:"Bass",value:"bass"}],defaultValue:"treble",handleChange:g}),e.jsxs("h2",{children:["Octave Range ",J()]}),e.jsx(m,{text:"Choose Octave Range",variant:"outlined",size:"medium",onClick:H}),e.jsx("h2",{children:"Timer"}),e.jsx(rt,{htmlName:"timer",label:"Time",placeholder:"30",type:"number",error:i?.timer,ref:l,defaultValue:"60",min:0,max:999}),e.jsx("h2",{children:"Accidentals"}),e.jsxs("div",{className:Q.FlexButtonsContainer,children:[e.jsx(m,{onClick:()=>_("Naturals"),variant:"text-secondary",text:"Naturals",active:d.Naturals}),e.jsx(m,{onClick:()=>_("Sharps"),variant:"text-secondary",text:"Sharps",active:d.Sharps}),e.jsx(m,{onClick:()=>_("Flats"),variant:"text-secondary",text:"Flats",active:d.Flats})]})]}),e.jsxs("div",{className:Q.SubmitButtonContainer,children:[e.jsx(m,{onClick:S,variant:"contained",text:"Start Drill",fullWidth:!0}),e.jsx(m,{onClick:q,variant:"outlined",text:"Use Default Options",fullWidth:!0})]})]})]})})}function jr(){const[t,n]=v.useState("main"),a=()=>n("preset"),r=()=>n("custom"),s=()=>n("main");return e.jsx("div",{className:I.NoteDrillPageWrapper,children:e.jsxs("div",{className:"size-wrapper",children:[t==="main"&&e.jsx(gr,{togglePresetComponent:a,toggleCustomComponent:r}),t==="preset"&&e.jsx(Ja,{onBack:s}),t==="custom"&&e.jsx(Cr,{onBack:s})]})})}function gr({togglePresetComponent:t,toggleCustomComponent:n}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:I.HeaderContainer,children:e.jsx("h1",{children:"Drill Practice"})}),e.jsx(_r,{}),e.jsxs("div",{className:I.CardContainer,children:[e.jsx(y,{onClick:t,children:e.jsxs("div",{className:I.CardContent,children:[e.jsx("div",{className:I.IconContainer,children:e.jsx(ve,{icon:e.jsx(Rt,{})})}),e.jsxs("div",{className:I.TextContainer,children:[e.jsx("h2",{className:"heading",children:"Preset Drills"}),e.jsx("p",{className:"caption-secondary",children:"Practice with designed exercises covering rhythm patterns, note reading, and intervals"})]}),e.jsx("div",{className:I.ButtonContainer,children:e.jsx(m,{variant:"contained",text:"Start Practice",fullWidth:!0})})]})}),e.jsx(y,{onClick:n,children:e.jsxs("div",{className:I.CardContent,children:[e.jsx("div",{className:I.IconContainer,children:e.jsx(ve,{icon:e.jsx(Lt,{})})}),e.jsxs("div",{className:I.TextContainer,children:[e.jsx("h2",{className:"heading",children:"Custom Drill"}),e.jsx("p",{className:"caption-secondary",children:"Create your own personalized exercises tailored to your specific learning goals"})]}),e.jsx("div",{className:I.ButtonContainer,children:e.jsx(m,{variant:"contained",text:"Customize Drill",fullWidth:!0})})]})})]})]})}function _r(){const{prefs:t}=X(),n=$(s=>s.isMidiDeviceConnected),a=Z();function r(){a(`/config?q=${T.DeviceSetup}`)}return e.jsx(y,{onClick:r,marginTop:"var(--spacing-xsmall)",children:e.jsxs("div",{className:I.DeviceContainer,children:[e.jsx("h2",{className:"body",children:"Current Input Devices"}),e.jsx("div",{className:I.DeviceContainerTextItem,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{}),e.jsx("p",{className:"caption-secondary",children:"MIDI"})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:I.DeviceContainerTextItem,children:t.inputType==="buttons"?e.jsxs(e.Fragment,{children:[e.jsx(ze,{}),e.jsx("p",{className:"caption-secondary",children:"Buttons"})]}):t.inputType==="piano"?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{}),e.jsx("p",{className:"caption-secondary",children:"Piano Roll"})]}):e.jsx("p",{className:"caption-secondary",children:"None"})})]})})}const Nr="_LoadingWrapper_1kcfb_1",yr={LoadingWrapper:Nr};function Le(){return e.jsx("div",{className:yr.LoadingWrapper,children:e.jsx(wt,{size:60})})}const Ir="_KeyVisualizerPageWrapper_fu2fy_1",Tr="_SizeWrapper_fu2fy_15",Sr="_KeyWrapper_fu2fy_29",Mr="_KeyInputWrapper_fu2fy_43",Dr="_NotesInScaleWrapper_fu2fy_51",br="_NotesContainer_fu2fy_65",Er="_ChordsInScaleWrapper_fu2fy_75",wr="_ChordWrapper_fu2fy_91",Ar="_ChordButtonContainer_fu2fy_105",Pr="_ChordNotes_fu2fy_127",O={KeyVisualizerPageWrapper:Ir,SizeWrapper:Tr,KeyWrapper:Sr,KeyInputWrapper:Mr,NotesInScaleWrapper:Dr,NotesContainer:br,ChordsInScaleWrapper:Er,ChordWrapper:wr,ChordButtonContainer:Ar,ChordNotes:Pr};function kr(){const t=v.useRef(null),n=v.useRef(null),[a,r]=v.useState(""),[s,i]=v.useState([]),[h,c]=v.useState([]),o=Z();function l(){o("/")}function p(){if(!n.current||!t.current)return;const d=t.current.value.toUpperCase(),j=n.current.value;if(ae.findIndex(_=>_===d)===-1){r("Invalid note");return}x(d,j),a&&r("")}function x(d,j){const g=Qe(d,j);i(g);const _=Xt(d,j);c(_)}return e.jsx("div",{className:O.KeyVisualizerPageWrapper,children:e.jsxs("div",{className:O.SizeWrapper,children:[e.jsx(U,{onBack:l}),e.jsxs("div",{className:O.KeyWrapper,children:[e.jsx("p",{children:"Key"}),e.jsxs("div",{className:O.KeyInputWrapper,children:[e.jsx(rt,{label:"",htmlName:"rootnote",placeholder:"C",type:"text",defaultValue:"C",ref:t,error:a,style:{textTransform:"uppercase"}}),e.jsx(st,{label:"",htmlName:"scale",options:Yt.map(d=>({label:d,value:d})),ref:n})]}),e.jsx(m,{text:"Confirm",onClick:p})]}),e.jsxs("div",{className:O.NotesInScaleWrapper,children:[e.jsx("p",{children:"Notes in scale"}),e.jsx("div",{className:O.NotesContainer,children:s.map(d=>e.jsx("p",{className:"heading",children:d},d))})]}),e.jsxs("div",{className:O.ChordsInScaleWrapper,children:[e.jsx("p",{children:"Chords in scale"}),h.map(d=>e.jsx(Br,{chordName:d.chordName,chordNotes:d.chordNotes,degree:d.degree},d.chordName))]})]})})}function Br({degree:t,chordName:n,chordNotes:a}){return e.jsx("div",{className:O.ChordWrapper,children:e.jsxs("div",{className:O.ChordButtonContainer,children:[e.jsx("p",{children:t}),e.jsx("div",{className:O.ChordNotes,children:a.map(r=>e.jsx("p",{children:r},r))}),e.jsx(m,{text:n,size:"small",variant:"outlined",disabled:!0})]})})}const Or=v.lazy(()=>ft(()=>import("./DrillStartPage-DbDoVxsf.js"),__vite__mapDeps([0,1,2,3,4,5]))),Wr=[{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(te,{}),e.jsx(Ca,{})]})},{path:"/drills",element:e.jsxs(e.Fragment,{children:[e.jsx(te,{}),e.jsx(jr,{})]})},{path:"/config",element:e.jsxs(e.Fragment,{children:[e.jsx(te,{}),e.jsx(oa,{})]})},{path:"/drills/start",element:e.jsxs(v.Suspense,{fallback:e.jsx(Le,{}),children:[e.jsx(te,{}),e.jsx(Or,{})]})},{path:"/keyvisualizer",element:e.jsxs(v.Suspense,{fallback:e.jsx(Le,{}),children:[e.jsx(te,{}),e.jsx(kr,{})]})}];function Rr(){const{prefs:t}=X(),n=$(r=>r.enableMidiAutoReconnect),a=$(r=>r.disableMidiAutoReconnect);return v.useEffect(()=>{t.midiDeviceAutoConnect?n():t.midiDeviceAutoConnect||a()},[]),null}function qr(){return e.jsxs(lt,{children:[e.jsx(dt,{children:Wr.map(t=>e.jsx(De,{path:t.path,element:t.element,children:t.children?.map(n=>e.jsx(De,{path:n.path,element:n.element},n.path))},t.path))}),e.jsx(Rr,{})]})}ut.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(Wa,{children:e.jsx(qr,{})})}));export{zr as A,m as B,y as C,Vr as F,Yr as G,Se as M,R as N,he as P,Gr as S,Fr as T,Xr as a,mr as b,$ as c,b as d,xe as e,re as f,U as g,Ur as h,Kr as i,Jr as j,Qr as k,es as l,X as m,me as u};
