const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DrillStartPage-PAf6IlCo.js","assets/react-DCaQfIlb.js","assets/vendor-p4PpBVHW.js","assets/webmidi-DLahG6sQ.js","assets/vexflow-B_RgdgAq.js","assets/DrillStartPage-Cm2Fxktd.css"])))=>i.map(i=>d[i]);
import{j as e,c as We,r as p,u as K,a as Xe,b as Ye,d as et,B as tt,R as nt,e as Ie,f as at}from"./react-DCaQfIlb.js";import{w as k}from"./webmidi-DLahG6sQ.js";import{V as st,R as Te,S as rt,B as De,a as se,A as pe,F as me,b as it}from"./vexflow-B_RgdgAq.js";import"./vendor-p4PpBVHW.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();const ot="modulepreload",ct=function(t){return"/"+t},ye={},lt=function(n,a,s){let r=Promise.resolve();if(a&&a.length>0){let o=function(l){return Promise.all(l.map(h=>Promise.resolve(h).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");r=o(a.map(l=>{if(l=ct(l),l in ye)return;ye[l]=!0;const h=l.endsWith(".css"),C=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${C}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":ot,h||(v.as="script"),v.crossOrigin="",v.href=l,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((_,g)=>{v.addEventListener("load",_),v.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return r.then(u=>{for(const c of u||[])c.status==="rejected"&&i(c.reason);return n().catch(i)})},dt="_NavbarWrapper_1i4j9_1",ut="_SizeWrapper_1i4j9_19",ht="_IconTextContainer_1i4j9_45",vt="_TitleContainer_1i4j9_59",pt="_SidebarWrapper_1i4j9_69",mt="_open_1i4j9_99",xt="_Backdrop_1i4j9_131",ft="_show_1i4j9_157",Ct="_Header_1i4j9_167",jt="_SidebarItemContainer_1i4j9_195",gt="_Active_1i4j9_211",_t="_SidebarItemTextContainer_1i4j9_231",Nt="_SidebarItemSubTextContainer_1i4j9_243",f={NavbarWrapper:dt,SizeWrapper:ut,IconTextContainer:ht,TitleContainer:vt,SidebarWrapper:pt,open:mt,Backdrop:xt,show:ft,Header:Ct,SidebarItemContainer:jt,Active:gt,SidebarItemTextContainer:_t,SidebarItemSubTextContainer:Nt},x="var(--color-text-body-1)";function St({size:t=40,color:n=x}){return e.jsxs("svg",{width:t,height:t,viewBox:"0 0 40 40",style:{display:"block"},children:[e.jsx("circle",{cx:"20",cy:"20",r:"15",stroke:n||"currentColor",strokeOpacity:".1",strokeWidth:"6",fill:"none"}),e.jsxs("circle",{cx:"20",cy:"20",r:"15",stroke:"#2B80FF",strokeWidth:"6",strokeLinecap:"round",fill:"none",strokeDasharray:"70 100",strokeDashoffset:"0",transform:"rotate(-90 20 20)",children:[e.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"1s",repeatCount:"indefinite",calcMode:"cubic"}),e.jsx("animate",{attributeName:"stroke-dasharray",values:"10 100;50 100;10 100",dur:"1.5s",repeatCount:"indefinite"})]})]})}function It({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"})})}function He({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h130v-180h-10q-17 0-28.5-11.5T280-420v-340h-80v560Zm430 0h130v-560h-80v340q0 17-11.5 28.5T640-380h-10v180Zm-240 0h180v-180h-10q-17 0-28.5-11.5T520-420v-340h-80v340q0 17-11.5 28.5T400-380h-10v180Z"})})}function Tt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"})})}function Ns({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M280-120v-80h160v-124q-49-11-87.5-41.5T296-442q-75-9-125.5-65.5T120-640v-40q0-33 23.5-56.5T200-760h80v-80h400v80h80q33 0 56.5 23.5T840-680v40q0 76-50.5 132.5T664-442q-18 46-56.5 76.5T520-324v124h160v80H280Zm0-408v-152h-80v40q0 38 22 68.5t58 43.5Zm200 128q50 0 85-35t35-85v-240H360v240q0 50 35 85t85 35Zm200-128q36-13 58-43.5t22-68.5v-40h-80v152Zm-200-52Z"})})}function be({scale:t=1}){return e.jsxs("svg",{width:32*t,height:37*t,viewBox:"0 0 32 37",children:[e.jsx("path",{fill:"#3D3E4E",opacity:.5,d:"m14.872 0-3.156.192-2.557.84-2.193.967-2.318 1.728-1.09 1.125-1.01 1.202-1.11 2.025-.692 2.2-.176 1.187v1.159l.113.287v1.024l-.184.105-.154.171-.104.15-.036.226.036.188.104.122.338.201.047 1.247-.168.153-.055.3.125.297.203.145.321 7.653.551 4.865.575 2.129.828 1.723 1.081 1.335 1.267.946 1.369.71 1.284.22 1.385-.102 1.284-.405 1.116-.665.878-.89.675-.93.254-.979v-1.402l-.422-1.504-1.808-2.686-3.362-3.497-2.29-2.526-1.224-2.171-.09-2.253.195-.163.094-.201v-.285l-.125-.239-.164-.11.09-1.034.094-.29.199-.269.023-.203-.043-.242-.152-.152.213-1.283.756-1.147 1.55-2.48 3.428-3.929 3.498-2.539 3.121-.866h3.126l-1-.698-1.38-.42-1.292-.195L14.872 0Z"}),e.jsx("path",{fill:"#8F8FA3",opacity:.5,d:"m24.38 12.254-1.022-1.975-1.703-2.264-1.539-1.51-1.682-1.145-2.353-.884-1.489-.168-3.78.356 3.355-2.422 3.133-.865h3.105l2.402 1.793 1.675 1.553 1.46 1.782.887 1.381.82 1.607.693 2.187.706.435.423 2.987-.165.376.459 2.516.106 2.6.832 1.582.579 1.5.3 1.19.284 1.245v1.21l-.283 1.177-.413.991-.367.703-.539.672-.82.885-1.19.88-1.043.95-1.061.665-1.308.516-1.146.186-1.23-.056-1.149-.322-1.111-.547-1.088-.887-.484-.595.357-.855.24-.93.048-1.525-.315-1.738-.652-1.69-1.118-1.916.514-1.75.954-1.797 1.481-1.47 1.788-.874 2.359-.351 1.43.222-.259-1.823-.34-.247-1-2.998.258-.543Z"}),e.jsx("path",{fill:"#424257",opacity:.5,d:"m7.642 18.855.845-.09 1.418.077 1.017.24.906.357 1.264.61 1.499 1.029.776.68.758.81.584.645.651.888.797 1.4.413.885.488 1.323.234 1.4v1.27l-.234 1.258-.488.974-.346.502-.782.608.046-1.352-.157-1.3-.345-1.368-.496-1.414-1.353-2.409-1.818-2.104-1.542-1.206-1.265-.81-1.265-.555-1.203-.35-1.295-.092H5.525l-.249-.497.715-.672.758-.433.893-.304Z"}),e.jsx("path",{fill:"#555568",opacity:.5,d:"M5.507 20.742h1.276l1.286.106 1.29.363 1.183.538.66.439.725.483 1.425 1.134 1.82 2.082 1.335 2.365.582 1.619.306 1.53.127 1.014-.057 1.249.312-.237-.173.958-.276.68-.434.61-.53.37-.73.23-.439.123-.562.054h-4.394l.498-.177 1.174-.675.755-.75.745-.995.269-1v-1.387l-.448-1.545-1.707-2.586-3.012-3.124-2.652-2.882-.354-.589Z"}),e.jsx("path",{fill:"#424257",opacity:.5,d:"m19.207 19.706 1.081-.953 1.097-.578.92-.253h1.286l1.387.53 1.135.837.831.976.766 1.76.233 1.605.086 1.52-.319 1.999-.65 1.777-1.14 1.581-.98.895-1.135.663-1.394.398-1.32-.117-1.14-.453-.859-.49.11-1.361.005-1.275-.727-2.538-1.304-2.207.427-1.63.693-1.446.911-1.24Z"}),e.jsx("path",{fill:"#2B80FF",d:"M16.876 16.256a1.207 1.207 0 0 1-1.449.902 1.207 1.207 0 0 1-.92-1.437 1.207 1.207 0 0 1 1.448-.902c.654.147 1.066.79.92 1.437Zm4.581.035a1.207 1.207 0 0 1-1.449.903 1.207 1.207 0 0 1-.92-1.437 1.207 1.207 0 0 1 1.448-.903c.654.148 1.066.791.92 1.437Z"}),e.jsx("path",{fill:"#2B80FF",d:"M17.69 10.501a.176.176 0 0 1 .173-.14l4.595.033c.111 0 .194.102.17.21l-1.166 5.597-.237-.574.875-4.124-4.24.006-.971 4.65-.189-.815.99-4.843ZM1.193 4.003a.607.607 0 0 1-.405.757.607.607 0 0 1-.761-.396.607.607 0 0 1 .405-.756c.322-.1.663.077.761.395ZM3.198 2.87a.607.607 0 0 1-.405.757.607.607 0 0 1-.761-.395.607.607 0 0 1 .405-.757c.322-.1.663.078.761.396Z"}),e.jsx("path",{fill:"#2B80FF",d:"M.106 1.292a.088.088 0 0 1 .04-.105L2.156.05a.088.088 0 0 1 .128.049l.894 2.73-.247-.19L2.278.623.433 1.688l.742 2.27-.287-.308-.782-2.358Z"})]})}function $e({size:t=48}){return e.jsxs("svg",{width:t,height:t,viewBox:"0 0 48 48",children:[e.jsx("path",{fill:"#2B80FF",stroke:"#163A71",d:"M9.108 20.84 7.95 23.163a4.266 4.266 0 0 0 .8 4.92 4.271 4.271 0 0 1 1.206 2.415l.878 6.156a3.046 3.046 0 0 0 1.325 2.103 3.064 3.064 0 0 0 1.702.516h3.63a1.257 1.257 0 0 1 1.23 1.006l.34 1.7c.145.725.5 1.391 1.024 1.915A3.77 3.77 0 0 0 22.753 45h.241a4.36 4.36 0 0 0 1.427-.24l3.94-1.364a10.28 10.28 0 0 0 4.595-3.207l1.434-1.754a5.207 5.207 0 0 0 1.108-4.138 5.205 5.205 0 0 1 .661-3.498l2.015-3.396a16.059 16.059 0 0 0 2.136-6.29l.075-.629a16.295 16.295 0 0 0-1.047-7.976l-.129-.323a14.23 14.23 0 0 0-2.403-3.974 14.284 14.284 0 0 0-5.54-3.972l-.295-.118A15.62 15.62 0 0 0 25.16 3h-1.494a13.64 13.64 0 0 0-4.797.871l-.081.03a13.207 13.207 0 0 0-4.703 3.033 13.158 13.158 0 0 0-2.785 4.12l-.066.153a13.988 13.988 0 0 0-1.058 4.111l-.278 2.788a7.874 7.874 0 0 1-.79 2.734Z"}),e.jsx("path",{fill:"#D5E6FF",d:"M37 18c0 6.627-5.373 12-12 12s-12-5.373-12-12S18.373 6 25 6s12 5.373 12 12Z"}),e.jsx("path",{fill:"#2B80FF",d:"M22.322 23.04c0 1.16-.953 2.102-2.128 2.102-1.176 0-2.129-.941-2.129-2.102 0-1.16.953-2.102 2.129-2.102 1.175 0 2.128.941 2.128 2.102Zm7.845-1.706c0 1.16-.953 2.102-2.129 2.102-1.175 0-2.128-.941-2.128-2.102 0-1.16.953-2.102 2.128-2.102 1.176 0 2.129.941 2.129 2.102Z"}),e.jsx("path",{fill:"#2B80FF",d:"M21.496 12.888a.308.308 0 0 1 .242-.306l7.867-1.716c.19-.042.37.1.373.295l.162 10.016-.625-.889-.096-7.388-7.244 1.646.132 8.325-.636-1.321-.175-8.662Z"})]})}function Dt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M400-120q-66 0-113-47t-47-113q0-66 47-113t113-47q23 0 42.5 5.5T480-418v-422h240v160H560v400q0 66-47 113t-113 47Z"})})}function yt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-120q-151 0-255.5-46.5T120-280v-400q0-66 105.5-113T480-840q149 0 254.5 47T840-680v400q0 67-104.5 113.5T480-120Zm0-479q89 0 179-25.5T760-679q-11-29-100.5-55T480-760q-91 0-178.5 25.5T200-679q14 30 101.5 55T480-599Zm0 199q42 0 81-4t74.5-11.5q35.5-7.5 67-18.5t57.5-25v-120q-26 14-57.5 25t-67 18.5Q600-528 561-524t-81 4q-42 0-82-4t-75.5-11.5Q287-543 256-554t-56-25v120q25 14 56 25t66.5 18.5Q358-408 398-404t82 4Zm0 200q46 0 93.5-7t87.5-18.5q40-11.5 67-26t32-29.5v-98q-26 14-57.5 25t-67 18.5Q600-328 561-324t-81 4q-42 0-82-4t-75.5-11.5Q287-343 256-354t-56-25v99q5 15 31.5 29t66.5 25.5q40 11.5 88 18.5t94 7Z"})})}function Se({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M560-131v-82q90-26 145-100t55-168q0-94-55-168T560-749v-82q124 28 202 125.5T840-481q0 127-78 224.5T560-131ZM120-360v-240h160l200-200v640L280-360H120Zm440 40v-322q47 22 73.5 66t26.5 96q0 51-26.5 94.5T560-320ZM400-606l-86 86H200v80h114l86 86v-252ZM300-480Z"})})}function bt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M280-360v-240h160l200-200v640L440-360H280Zm80-80h114l86 86v-252l-86 86H360v80Zm100-40Z"})})}function Le({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-480ZM202-65l-56-57 118-118h-90v-80h226v226h-80v-89L202-65Zm278-15v-80h240v-440H520v-200H240v400h-80v-400q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H480Z"})})}function Mt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v240h-80v-200H520v-200H240v640h360v80H240Zm638 15L760-183v89h-80v-226h226v80h-90l118 118-56 57Zm-638-95v-640 640Z"})})}function Et({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})}function je({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 12 12",children:e.jsx("circle",{cx:"6",cy:"6",r:"2",fill:n})})}function wt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M640-160q-50 0-85-35t-35-85q0-50 35-85t85-35q11 0 21 1.5t19 6.5v-328h200v80H760v360q0 50-35 85t-85 35ZM120-320v-80h320v80H120Zm0-160v-80h480v80H120Zm0-160v-80h480v80H120Z"})})}function At({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"})})}function Bt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"m562-225 199-199-57-56-142 142-56-57-57 57 113 113ZM280-360h120v-80H280v80Zm0-120h280v-80H280v80Zm0-120h280v-80H280v80ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})}function Pt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M320-200v-560l440 280-440 280Z"})})}function Ss({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:n,children:e.jsx("path",{color:n,d:"M10.5 12.667c.482-.396 1.045-.74 1.73-.938.804-.246 2.012-.183 2.812.612 1.76 2.081.66 4.256-.19 5.685-.974 1.501-2.282 2.635-3.685 3.554-.214.14-.437.276-.667.411V22h-1V3h1v9.667Zm3.151 1.111c-.306-.416-1.538-.278-2.63.325-.181.096-.344.186-.521.29v6.027c1.12-.999 2.112-2.108 2.782-3.331.707-1.2.927-2.85.37-3.31Z"})})}function Is({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:n,children:e.jsx("path",{color:n,d:"m15 7.045 3-.545v2l-3 .545v5.5L18 14v2l-3 .545V21h-1v-4.273l-3 .546V22h-1v-4.546L7 18v-2l3-.546v-5.5L7 10.5v-2l3-.546V3h1v4.772l3-.545V2h1v5.045Zm-4 2.727v5.5l3-.545v-5.5l-3 .545Z"})})}function Me({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z"})})}function V({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"})})}function Ze({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M480-40q-33 0-56.5-23.5T400-120q0-33 23.5-56.5T480-200q33 0 56.5 23.5T560-120q0 33-23.5 56.5T480-40ZM240-760q-33 0-56.5-23.5T160-840q0-33 23.5-56.5T240-920q33 0 56.5 23.5T320-840q0 33-23.5 56.5T240-760Zm0 240q-33 0-56.5-23.5T160-600q0-33 23.5-56.5T240-680q33 0 56.5 23.5T320-600q0 33-23.5 56.5T240-520Zm0 240q-33 0-56.5-23.5T160-360q0-33 23.5-56.5T240-440q33 0 56.5 23.5T320-360q0 33-23.5 56.5T240-280Zm480-480q-33 0-56.5-23.5T640-840q0-33 23.5-56.5T720-920q33 0 56.5 23.5T800-840q0 33-23.5 56.5T720-760ZM480-280q-33 0-56.5-23.5T400-360q0-33 23.5-56.5T480-440q33 0 56.5 23.5T560-360q0 33-23.5 56.5T480-280Zm240 0q-33 0-56.5-23.5T640-360q0-33 23.5-56.5T720-440q33 0 56.5 23.5T800-360q0 33-23.5 56.5T720-280Zm0-240q-33 0-56.5-23.5T640-600q0-33 23.5-56.5T720-680q33 0 56.5 23.5T800-600q0 33-23.5 56.5T720-520Zm-240 0q-33 0-56.5-23.5T400-600q0-33 23.5-56.5T480-680q33 0 56.5 23.5T560-600q0 33-23.5 56.5T480-520Zm0-240q-33 0-56.5-23.5T400-840q0-33 23.5-56.5T480-920q33 0 56.5 23.5T560-840q0 33-23.5 56.5T480-760Z"})})}function Fe({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:n,children:e.jsx("path",{color:n,d:"M18.1 2A3.9 3.9 0 0 1 22 5.9v12.2a3.9 3.9 0 0 1-3.9 3.9H5.9A3.9 3.9 0 0 1 2 18.1V5.9A3.9 3.9 0 0 1 5.9 2h12.2Zm-.09 12.7h1.295V9.3H18.01v5.4Zm-13.294-.027h1.317v-4.001h.683v4h1.307v-4h.659v4h1.347v-4.2a1.2 1.2 0 0 0-1.2-1.2H4.716v5.4Zm5.988 0H12v-5.4h-1.296v5.4Zm1.972-5.4v1.386h3.31v2.656h-1.973V11.28H12.68v3.394h3.454a1.2 1.2 0 0 0 1.2-1.2v-4.2h-4.658Z"})})}function kt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M440-120v-240h80v80h320v80H520v80h-80Zm-320-80v-80h240v80H120Zm160-160v-80H120v-80h160v-80h80v240h-80Zm160-80v-80h400v80H440Zm160-160v-240h80v80h160v80H680v80h-80Zm-480-80v-80h400v80H120Z"})})}function Ve({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})})}function qt({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"})})}function Ot({size:t=24,color:n=x}){return e.jsx("svg",{width:t,height:t,viewBox:"0 -960 960 960",fill:n,children:e.jsx("path",{color:n,d:"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"})})}const Rt="_button_17hns_1",Wt="_fullWidth_17hns_51",Ht="_contained_17hns_77",$t="_disabled_17hns_119",Lt="_outlined_17hns_139",Zt="_active_17hns_167",Ft="_text_17hns_195",Z={button:Rt,"size-small":"_size-small_17hns_27","size-medium":"_size-medium_17hns_35","size-large":"_size-large_17hns_43",fullWidth:Wt,"round-small":"_round-small_17hns_61","round-full":"_round-full_17hns_69",contained:Ht,disabled:$t,outlined:Lt,active:Zt,text:Ft,"text-secondary":"_text-secondary_17hns_207"};function m({variant:t="contained",round:n="small",text:a="",size:s="small",fullWidth:r=!1,icon:i=null,disabled:u,active:c,...o}){return e.jsxs("button",{className:`${Z.button} ${Z[`size-${s}`]} ${Z[t]} ${u?Z.disabled:""} ${c?Z.active:""} ${Z[`round-${n}`]} ${r?Z.fullWidth:""} `,disabled:u,...o,children:[i||"",a]})}const q=["C","D","E","F","G","A","B"],Ts=["C#","D#","F#","G#","A#"],Vt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Gt={C:0,D:2,E:4,F:5,G:7,A:9,B:11},zt={treble:{name:"F",accidental:null,octave:5},bass:{name:"A",accidental:null,octave:3}},Ut={treble:{name:"E",accidental:null,octave:4},bass:{name:"G",accidental:null,octave:2}},Ee={Sharp:"#",Flat:"b"};class Kt{name;accidental;octave;constructor(n,a,s){this.name=n,this.accidental=a,this.octave=s}}function Ds(t,n,a){const s=b(n.minOctave),r=b(n.maxOctave),i=Math.min(s,r),u=Math.max(s,r),c=Math.floor(Math.random()*(u-i+1))+i;let o=ge(c),l=null;if(a){const h=[];a.naturals&&h.push("n"),a.sharps&&h.push("#"),a.flats&&h.push("b"),h.length>0&&(l=h[Math.floor(Math.random()*h.length)],l==="n"&&(l=null))}if(o.accidental=l,s!==r&&t&&o.name===t.name&&o.octave===t.octave){const h=q.findIndex(g=>g==t.name),C=q[(h+1)%q.length];let v={...o,name:C};b(v)>u&&(v=n.minOctave),o=v}return o}function ys(t,n){let a=t[Math.floor(Math.random()*t.length)];if(!n)return a;if(a.name===n.name&&a.octave===n.octave){let s=t.findIndex(r=>r===a);a=t[(s+1)%t.length]}return a}function Ge(t,n){const a=b(t),s=b(n);return t.octave?a===s:a%12===s%12}function bs(t,n){return!!(t.name===n.name&&t.accidental===n.accidental||Ge(t,n))}function Ms(t,n){return!!(t.name===n.name&&t.accidental===n.accidental&&t.octave===n.octave||Ge(t,n))}function b(t){const n=Gt[t.name];let a=0;t.accidental===Ee.Sharp&&(a=1),t.accidental===Ee.Flat&&(a=-1);const s=t.octave?t.octave:0;return n+a+s*12}function ge(t){const n=Math.floor(t/12),a=Vt[t%12];let s,r=null;return a.includes("#")?(s=a[0],r="#"):s=a,{name:s,accidental:r,octave:n}}function re(t,n){const a=q.findIndex(c=>c===t.name),s=q.length,r=((a+n)%s+s)%s;let i=0;return a+n>s-1?i=1:a+n<0&&(i=-1),{...t,name:q[r],octave:t.octave?t.octave+i:null}}function Es(t,n){const a=zt[n];if(!t.octave||!a.octave)return-1;const s=q.indexOf(a.name),r=q.indexOf(t.name),i=(t.octave-a.octave)*7+(r-s);return i<=0?0:Math.ceil(i/2)}function ws(t,n){const a=Ut[n];if(!t.octave||!a.octave)return-1;const s=q.indexOf(a.name),r=q.indexOf(t.name),i=(a.octave-t.octave)*7+(s-r);return i<=0?0:Math.ceil(i/2)}function ie(t){return`${t.name}/${t.octave}`}function Jt(t){return new Kt(t.name.toUpperCase(),t.accidental,t.octave)}function de(t){return`${t.name}${t.accidental?t.accidental:""}${t.octave?t.octave:""}`}const W=We((t,n)=>({onButtonInput:()=>{},setButtonInputListener:a=>t({onButtonInput:a}),triggerButtonInput:a=>{const s=n().onButtonInput;s&&s(a)},midiListeners:[],addMidiListener:a=>t(s=>({midiListeners:[...s.midiListeners,a]})),removeMidiListener:a=>t(s=>({midiListeners:s.midiListeners.filter(r=>r!==a)})),triggerMidiInput:a=>{const s=n().midiListeners;for(const r of s)r(a)},disableMidiAutoReconnect:()=>Yt(),enableMidiAutoReconnect:()=>Xt(n),connectMidiDevice:()=>ze(n),disconnectMidiDevice:()=>Qt(),forceMidiInput:a=>{n().triggerMidiInput(a!==null?a:{name:"C",accidental:null,octave:4})},isMidiDeviceConnected:!1,setIsMidiDeviceConnected:a=>{t({isMidiDeviceConnected:a})},midiDeviceErrorMessage:null,setMidiDeviceErrorMessage:a=>{t({midiDeviceErrorMessage:a})}}));function ze(t){const n=t().setMidiDeviceErrorMessage,a=t().setIsMidiDeviceConnected;k.enable().then(()=>{if(k.inputs.length<1){n("No Devices found"),a(!1);return}t().disconnectMidiDevice(),k.inputs.forEach(s=>{s.addListener("noteon",r=>{t().triggerMidiInput(Jt(r.note))})}),Ue(t),n(null),a(!0)}).catch(s=>{n(s),a(!1)})}function Qt(){k.inputs.forEach(t=>{t.removeListener()})}function Xt(t){k.removeListener("connected"),k.addListener("connected",n=>{n.port.type==="input"&&(console.log(`MIDI device connected: ${n.port.name}`),ze(t))}),Ue(t)}function Yt(){k.removeListener("connected")}function Ue(t){k.removeListener("disconnected"),k.addListener("disconnected",n=>{n.port.type==="input"&&(console.log(`MIDI device disconnected: ${n.port.name}`),k.inputs.length<1&&(t().setIsMidiDeviceConnected(!1),t().setMidiDeviceErrorMessage("MIDI device disconnected")))})}const en="_PageWrapper_2tn1z_1",tn={PageWrapper:en},nn="_BackButtonWrapper_1rzka_1",an={BackButtonWrapper:nn};function J({onBack:t}){return e.jsx("div",{className:an.BackButtonWrapper,children:e.jsx(m,{onClick:t,icon:e.jsx(Ot,{}),text:"Back",variant:"text-secondary"})})}const sn="_cardWrapper_17e0x_1",rn="_Clickable_17e0x_21",we={cardWrapper:sn,Clickable:rn};function S({children:t,onClick:n,marginTop:a,...s}){return e.jsx("div",{className:`${we.cardWrapper} ${n?we.Clickable:""}`,onClick:n,style:{marginTop:a},...s,children:t})}const on="_Toggle_1hvmj_1",cn="_Thumb_1hvmj_25",ln="_Checked_1hvmj_53",xe={Toggle:on,Thumb:cn,Checked:ln};function ue({value:t,initial:n=!1,onChange:a}){const[s,r]=p.useState(n),i=t!==void 0,u=i?t:s,c=()=>{const o=!u;i||r(o),a?.(o)};return e.jsx("button",{type:"button",className:`${xe.Toggle} ${u?xe.Checked:""}`,onClick:c,"aria-pressed":u,children:e.jsx("div",{className:xe.Thumb})})}const dn="_SizeWrapper_15mgn_19",un="_PWASizeWrapper_15mgn_31",hn="_CardsWrapper_15mgn_43",vn="_InputDeviceHeader_15mgn_55",pn="_InputDeviceDropDownButton_15mgn_75",mn="_Rotated_15mgn_75",xn="_InputDeviceTextContainer_15mgn_93",fn="_InputDeviceTextItem_15mgn_105",Cn="_InputDeviceButtonContainer_15mgn_125",jn="_ExpandedContent_15mgn_141",gn="_Show_15mgn_161",_n="_ExpandedContentButtonContainer_15mgn_175",Nn="_ErrorText_15mgn_187",Sn="_MidiPlaybackExapandedContent_15mgn_197",d={SizeWrapper:dn,PWASizeWrapper:un,CardsWrapper:hn,InputDeviceHeader:vn,InputDeviceDropDownButton:pn,Rotated:mn,InputDeviceTextContainer:xn,InputDeviceTextItem:fn,InputDeviceButtonContainer:Cn,ExpandedContent:jn,Show:gn,ExpandedContentButtonContainer:_n,ErrorText:Nn,MidiPlaybackExapandedContent:Sn};function Ke(t,n){const[a,s]=p.useState(()=>{try{const r=localStorage.getItem(t);return r?JSON.parse(r):n}catch(r){return console.warn(`Error reading localStorage key “${t}”:`,r),n}});return p.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(a))}catch(r){console.warn(`Error writing localStorage key “${t}”:`,r)}},[t,a]),[a,s]}const In="appPreferences",Ae={inputType:"buttons",midiPlaybackEnabled:!1,midiPlaybackVolume:50,midiDeviceAutoConnect:!1};function Q(){const[t,n]=Ke(In,Ae);return{prefs:t,setInputType:i=>{n({...t,inputType:i})},resetPreferences:()=>n(Ae),setPrefsByKey:(i,u)=>{n({...t,[i]:u})}}}function Tn({onBack:t}){return e.jsxs("div",{className:d.SizeWrapper,children:[e.jsx(J,{onBack:t}),e.jsxs("div",{className:d.CardsWrapper,children:[e.jsx(Dn,{}),e.jsx(yn,{})]})]})}function Dn({}){const[t,n]=p.useState(!1),a=W(v=>v.connectMidiDevice),s=W(v=>v.enableMidiAutoReconnect),r=W(v=>v.disableMidiAutoReconnect),i=W(v=>v.midiDeviceErrorMessage),u=W(v=>v.isMidiDeviceConnected),{setPrefsByKey:c,prefs:o}=Q(),[l,h]=p.useState(o.midiDeviceAutoConnect);function C(v){h(v),c("midiDeviceAutoConnect",v),v?s():r()}return e.jsxs(S,{children:[e.jsxs("div",{className:d.InputDeviceHeader,children:[e.jsxs("div",{className:d.InputDeviceTextContainer,children:[e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(Fe,{}),e.jsx("p",{children:"External MIDI Device"})]}),e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(je,{color:u?"var(--color-success)":"var(--color-error)"}),e.jsxs("p",{className:"caption-secondary",children:["MIDI ",u?"Connected":"Disconnected"]})]})]}),e.jsx("div",{className:`${d.InputDeviceDropDownButton} ${t&&d.Rotated}`,children:e.jsx(m,{icon:e.jsx(V,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${d.ExpandedContent} ${t?d.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"Connect your MIDI compatible keyboard in the app to read your inputs directly. "}),e.jsx("p",{className:`caption-secondary ${d.ErrorText}`,children:i&&`Error: ${i}`}),e.jsxs("div",{className:d.InputDeviceButtonContainer,children:[e.jsx("p",{children:"Auto Reconnect"}),e.jsx(ue,{value:l,onChange:C})]}),e.jsx("div",{className:d.ExpandedContentButtonContainer,children:u?e.jsx(m,{text:"Disconnect",onClick:a}):e.jsx(m,{text:"Connect",onClick:a})})]})]})}function yn({}){const{setInputType:t,prefs:n}=Q(),[a,s]=p.useState(n.inputType);function r(i){a===i?(s(null),t(null)):(s(i),t(i))}return e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsx("div",{className:d.InputDeviceHeader,children:e.jsxs("div",{className:d.InputDeviceTextContainer,children:[e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(Ze,{}),e.jsx("p",{children:"Buttons"})]}),e.jsx("div",{className:d.InputDeviceButtonContainer,children:e.jsx(ue,{value:a=="buttons",onChange:i=>r("buttons")})})]})})}),e.jsx(S,{children:e.jsx("div",{className:d.InputDeviceHeader,children:e.jsxs("div",{className:d.InputDeviceTextContainer,children:[e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(He,{}),e.jsx("p",{children:"Piano Roll"})]}),e.jsx("div",{className:d.InputDeviceButtonContainer,children:e.jsx(ue,{value:a=="piano",onChange:i=>r("piano")})})]})})})]})}const bn="_InputWrapper_viqp1_1",Mn="_Input_viqp1_1",En="_InputSelect_viqp1_77",wn="_SliderWrapper_viqp1_153",An="_SliderValue_viqp1_163",Bn="_SliderLabel_viqp1_175",Pn="_Hide_viqp1_189",kn="_Slider_viqp1_153",qn="_CustomFileInput_viqp1_237",M={InputWrapper:bn,Input:Mn,InputSelect:En,Error:"_Error_viqp1_145",SliderWrapper:wn,SliderValue:An,SliderLabel:Bn,Hide:Pn,Slider:kn,CustomFileInput:qn};function On({value:t,onChange:n,min:a=0,max:s=100,step:r=1,label:i="Slider",hideLabel:u=!1,hideValue:c=!1}){const o=l=>{n(Number(l.target.value))};return e.jsxs("div",{className:M.SliderWrapper,children:[e.jsxs("label",{className:`${M.SliderLabel}`,children:[e.jsx("p",{className:`caption-secondary ${u&&M.Hide}`,children:i}),e.jsx("input",{type:"range",min:a,max:s,step:r,value:t,onChange:o,className:M.Slider})]}),!c&&e.jsx("p",{className:M.SliderValue,children:t})]})}function As(t){const n=Math.floor(t/60),a=t%60;return`${n}:${a.toString().padStart(2,"0")}`}async function Rn(t){const n=await caches.keys();let a=0;const s={};for(const r of n){const i=await caches.open(r),c=(await i.keys()).filter(l=>l.url.includes(t)),o=await Promise.all(c.map(async l=>{const h=await i.match(l);if(!h)return{url:l.url,size:0};try{const C=await h.clone().blob();return{url:l.url,size:C.size}}catch{return{url:l.url,size:0}}}));for(const{url:l,size:h}of o)h>0&&(s[l]=h,a+=h)}return{totalBytes:a,totalKB:Math.round(a/1024),details:s}}function Wn({onBack:t}){return e.jsxs("div",{className:d.SizeWrapper,children:[e.jsx(J,{onBack:t}),e.jsxs("div",{className:d.CardsWrapper,children:[e.jsx(Hn,{}),e.jsx($n,{})]})]})}function Hn(){const{setPrefsByKey:t,prefs:n}=Q(),[a,s]=p.useState(!1),[r,i]=p.useState(n.midiPlaybackEnabled),[u,c]=p.useState(null);p.useEffect(()=>{async function l(){const h=await Rn("/piano_samples/");c(h.totalKB.toString())}l()},[]);function o(l){i(l),t("midiPlaybackEnabled",l)}return e.jsxs(S,{children:[e.jsxs("div",{className:d.InputDeviceHeader,children:[e.jsxs("div",{className:d.InputDeviceTextContainer,children:[e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(Se,{}),e.jsx("p",{children:"Enable MIDI Playback"})]}),e.jsx("div",{className:d.InputDeviceTextItem,children:e.jsx(ue,{value:r,onChange:o})})]}),e.jsx("div",{className:`${d.InputDeviceDropDownButton} ${a&&d.Rotated}`,children:e.jsx(m,{icon:e.jsx(V,{}),onClick:()=>s(!a),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${d.ExpandedContent} ${d.MidiPlaybackExapandedContent} ${a?d.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"MIDI playback can be used in certain features of this application, which will playback requested piano sounds."}),e.jsxs("p",{className:"caption-secondary",children:["Current Cached Samples: ",e.jsxs("span",{className:"body",children:[u||"-","kb"]})]})]})]})}function $n(){const{setPrefsByKey:t,prefs:n}=Q(),[a,s]=p.useState(n.midiPlaybackVolume);function r(i){s(i),t("midiPlaybackVolume",i)}return e.jsx(S,{children:e.jsx("div",{className:d.InputDeviceHeader,children:e.jsxs("div",{className:d.InputDeviceTextContainer,children:[e.jsx("div",{className:d.InputDeviceTextItem,children:e.jsx("p",{children:"Volume"})}),e.jsxs("div",{className:`${d.InputDeviceTextItem}`,children:[e.jsx(bt,{}),e.jsx(On,{onChange:r,min:0,max:100,value:a,label:"Volume",hideLabel:!0,step:5}),e.jsx(Se,{})]})]})})})}const Ln="drillResults";function ve(){const[t,n]=Ke(Ln,[]);return{addResult:o=>{const l={date:new Date().toISOString(),...o};n([...t,l])},clearResults:()=>{n([]),alert("All data cleared.")},getResults:()=>t,getResultsById:o=>t.filter(l=>l.id===o),exportResults:()=>{const o=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),l=URL.createObjectURL(o),h=document.createElement("a");h.href=l,h.download=`drill_results_backup_${Date.now()}.json`,h.click(),URL.revokeObjectURL(l)},importResults:async o=>{const l=await o.text();try{const h=JSON.parse(l);if(!Fn(h))throw new Error("Invalid drill results structure");n(h),alert("Data successfully imported!")}catch(h){console.error("Failed to import results:",h),alert("The JSON file is invalid or corrupted.")}}}}function Zn(t){return typeof t=="object"&&t!==null&&typeof t.id=="string"&&typeof t.score=="number"&&typeof t.date=="string"&&typeof t.correctNotes=="number"&&typeof t.totalNotes=="number"&&typeof t.correctNotesPerMinute=="number"}function Fn(t){return Array.isArray(t)&&t.every(Zn)}function Vn({accept:t,onFileSelect:n}){const a=s=>{const r=s.target.files?.[0];r&&n(r)};return e.jsx("input",{type:"file",accept:t,onChange:a,className:M.CustomFileInput})}function Gn({onBack:t}){return e.jsxs("div",{className:d.SizeWrapper,children:[e.jsx(J,{onBack:t}),e.jsxs("div",{className:d.CardsWrapper,children:[e.jsx(zn,{}),e.jsx(Un,{}),e.jsx(Kn,{})]})]})}function zn(){const[t,n]=p.useState(!1),{exportResults:a}=ve();return e.jsxs(S,{children:[e.jsxs("div",{className:d.InputDeviceHeader,children:[e.jsx("div",{className:d.InputDeviceTextContainer,children:e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(Le,{}),e.jsx("p",{children:"Export Data"})]})}),e.jsx("div",{className:`${d.InputDeviceDropDownButton} ${t&&d.Rotated}`,children:e.jsx(m,{icon:e.jsx(V,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${d.ExpandedContent} ${d.MidiPlaybackExapandedContent} ${t?d.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"Export your data in a convenient file that can be later imported into the app!"}),e.jsx("p",{className:"caption-secondary",children:"Clicking export data below will download a JSON file that will contain your data from preset drill runs. This is mainly used for a personal backup of data in wanted."}),e.jsx("div",{className:d.ExpandedContentButtonContainer,children:e.jsx(m,{text:"Export Data",onClick:a})})]})]})}function Un(){const[t,n]=p.useState(!1),a=p.useRef(void 0),{importResults:s}=ve();function r(){a.current&&s(a.current)}function i(u){a.current=u}return e.jsxs(S,{children:[e.jsxs("div",{className:d.InputDeviceHeader,children:[e.jsx("div",{className:d.InputDeviceTextContainer,children:e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(Mt,{}),e.jsx("p",{children:"Import Data"})]})}),e.jsx("div",{className:`${d.InputDeviceDropDownButton} ${t&&d.Rotated}`,children:e.jsx(m,{icon:e.jsx(V,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${d.ExpandedContent} ${d.MidiPlaybackExapandedContent} ${t?d.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"Import app data from a JSON file to get back where you started!"}),e.jsx("p",{className:"caption-secondary",children:"Importing data will ERASE current stored data, so only use this feature as a means to restore a personal backup of app data."}),e.jsx(Vn,{accept:"application/json",onFileSelect:i}),e.jsx("div",{className:d.ExpandedContentButtonContainer,children:e.jsx(m,{text:"Import Data",onClick:r})})]})]})}function Kn(){const[t,n]=p.useState(!1),{clearResults:a}=ve();function s(){a()}return e.jsxs(S,{children:[e.jsxs("div",{className:d.InputDeviceHeader,children:[e.jsx("div",{className:d.InputDeviceTextContainer,children:e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(Et,{}),e.jsx("p",{children:"Clear App Data"})]})}),e.jsx("div",{className:`${d.InputDeviceDropDownButton} ${t&&d.Rotated}`,children:e.jsx(m,{icon:e.jsx(V,{}),onClick:()=>n(!t),variant:"text-secondary"})})]}),e.jsxs("div",{className:`${d.ExpandedContent} ${d.MidiPlaybackExapandedContent} ${t?d.Show:""}`,children:[e.jsx("p",{className:"caption-secondary",children:"This option will CLEAR ALL application data. If you would like, please export your data first, then clear if you would like to later backup your data."}),e.jsx("div",{className:d.ExpandedContentButtonContainer,children:e.jsx(m,{text:"CLEAR ALL DATA",onClick:s})})]})]})}function Jn(){const[t,n]=p.useState(null),[a,s]=p.useState(!1);p.useEffect(()=>{const i=u=>{u.preventDefault(),n(u),s(!0)};return window.addEventListener("beforeinstallprompt",i),()=>{window.removeEventListener("beforeinstallprompt",i)}},[]);async function r(){if(!t)return;t.prompt();const{outcome:i}=await t.userChoice;console.log(i==="accepted"?"PWA installation accepted":"PWA installation dismissed"),n(null),s(!1)}return{isInstallable:a,promptInstall:r}}function Qn({onBack:t}){return e.jsxs("div",{className:d.PWASizeWrapper,children:[e.jsx(J,{onBack:t}),e.jsx("div",{className:d.CardsWrapper,children:e.jsx(Xn,{})})]})}function Xn(){const{isInstallable:t,promptInstall:n}=Jn();return e.jsx(S,{children:e.jsx("div",{className:d.InputDeviceHeader,children:e.jsxs("div",{className:d.InputDeviceTextContainer,children:[e.jsxs("div",{className:d.InputDeviceTextItem,children:[e.jsx(Le,{}),e.jsx("p",{children:"PWA"})]}),e.jsx("div",{className:d.TextContent,children:e.jsx("p",{children:"Download the PWA of this web application for convenient native-like app experience!"})}),!t&&e.jsx("p",{className:"caption-secondary",children:"(Already installed or not supported)"}),e.jsx("div",{className:d.ExpandedContentButtonContainer,children:e.jsx(m,{text:"Download",onClick:n,disabled:!t})})]})})})}const T={DeviceSetup:"devicesetup",MIDIPlayback:"midiplayback",ManageData:"managedata",PWA:"pwa"};function Yn(){const t=K(),[n]=Xe(),a=n.get("q");let s="";a&&(s=Object.entries(T).filter(u=>u[1]===a)[0][1]);function r(){t("/")}return e.jsx("div",{className:tn.PageWrapper,children:s===T.DeviceSetup?e.jsx(Tn,{onBack:r}):s===T.MIDIPlayback?e.jsx(Wn,{onBack:r}):s===T.ManageData?e.jsx(Gn,{onBack:r}):s===T.PWA?e.jsx(Qn,{onBack:r}):e.jsx(e.Fragment,{})})}function oe(){const[t,n]=p.useState(!1),a=K(),s=()=>{a("/")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:f.NavbarWrapper,children:e.jsxs("div",{className:f.SizeWrapper,children:[e.jsxs("div",{onClick:s,className:f.IconTextContainer,children:[e.jsx($e,{}),e.jsx("h1",{children:"Music Maestro"}),e.jsx("div",{className:f.TitleContainer})]}),e.jsx(m,{onClick:()=>n(!0),icon:e.jsx(It,{color:"var(--color-dark-2)"}),variant:"outlined"})]})}),e.jsx(ea,{isOpen:t,onClose:()=>n(!1)})]})}function ea({isOpen:t,onClose:n}){const a=W(l=>l.isMidiDeviceConnected),s=K(),r=Ye(),{pathname:i,search:u}=r,c=i+u;function o(l){n(),s(l)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${f.Backdrop} ${t?f.show:""}`,onClick:n}),e.jsxs("div",{className:`${f.SidebarWrapper} ${t?f.open:""}`,children:[e.jsxs("div",{className:f.Header,children:[e.jsx($e,{}),e.jsx("h1",{className:"truncate-overflow-text",children:"Music Maestro"}),e.jsx(m,{variant:"text-secondary",icon:e.jsx(Ve,{color:"var(--color-dark-2)"}),onClick:n})]}),e.jsx("div",{className:`${f.SidebarItemContainer} ${c==="/"&&f.Active}`,onClick:()=>o("/"),tabIndex:0,children:e.jsxs("div",{className:f.SidebarItemTextContainer,children:[e.jsx(Tt,{}),e.jsx("p",{children:"Home"})]})}),e.jsxs("div",{className:`${f.SidebarItemContainer} ${c===`/config?q=${T.DeviceSetup}`&&f.Active}`,onClick:()=>o(`/config?q=${T.DeviceSetup}`),tabIndex:0,children:[e.jsxs("div",{className:f.SidebarItemTextContainer,children:[e.jsx(qt,{}),e.jsx("p",{children:"Device Setup"})]}),a?e.jsxs("div",{className:f.SidebarItemSubTextContainer,children:[e.jsx(je,{color:"var(--color-success)"}),e.jsx("p",{className:"caption-secondary",children:"MIDI Connected"})]}):e.jsxs("div",{className:f.SidebarItemSubTextContainer,children:[e.jsx(je,{color:"var(--color-error)"}),e.jsx("p",{className:"caption-secondary",children:"MIDI Disconnected"})]})]}),e.jsx("div",{className:`${f.SidebarItemContainer} ${c===`/config?q=${T.MIDIPlayback}`&&f.Active}`,onClick:()=>o(`/config?q=${T.MIDIPlayback}`),tabIndex:0,children:e.jsxs("div",{className:f.SidebarItemTextContainer,children:[e.jsx(Se,{}),e.jsx("p",{children:"MIDI Playback"})]})}),e.jsx("div",{className:`${f.SidebarItemContainer} ${c===`/config?q=${T.ManageData}`&&f.Active}`,onClick:()=>o(`/config?q=${T.ManageData}`),tabIndex:0,children:e.jsxs("div",{className:f.SidebarItemTextContainer,children:[e.jsx(yt,{}),e.jsx("p",{children:"Manage Data"})]})}),e.jsx("div",{className:`${f.SidebarItemContainer} ${c===`/config?q=${T.PWA}`&&f.Active}`,onClick:()=>o(`/config?q=${T.PWA}`),tabIndex:0,children:e.jsxs("div",{className:f.SidebarItemTextContainer,children:[e.jsx(At,{}),e.jsx("p",{children:"PWA Download"})]})})]})]})}const ta="_HomePageWrapper_5nmq2_1",na="_SizeWrapper_5nmq2_19",Y={HomePageWrapper:ta,SizeWrapper:na};function aa(){return e.jsx("div",{className:Y.HomePageWrapper,children:e.jsxs("div",{className:Y.SizeWrapper,children:[e.jsxs("div",{className:Y.HeaderContainer,children:[e.jsx("h1",{className:"main-heading",children:"Welcome Back!"}),e.jsx("h2",{className:"light-heading",children:"Start your music practice and get ready to learn"})]}),e.jsxs("div",{className:Y.CardWrapper,children:[e.jsx("h2",{children:"Practice Modes"}),e.jsx("div",{className:Y.CardContainer})]})]})})}const sa="_NoteDrillPageWrapper_7z153_1",ra="_HeaderContainer_7z153_11",ia="_CardContainer_7z153_23",oa="_CardContent_7z153_37",ca="_IconContainer_7z153_59",la="_TextContainer_7z153_73",da="_ButtonContainer_7z153_97",ua="_DeviceContainer_7z153_107",ha="_DeviceContainerTextItem_7z153_129",I={NoteDrillPageWrapper:sa,HeaderContainer:ra,CardContainer:ia,CardContent:oa,IconContainer:ca,TextContainer:la,ButtonContainer:da,DeviceContainer:ua,DeviceContainerTextItem:ha},va="_iconWrapper_1hapw_1",pa={iconWrapper:va};function Be({icon:t}){return e.jsx("div",{className:pa.iconWrapper,children:t})}const ma="_PresetDrillsWrapper_197s3_1",xa="_CardContainer_197s3_11",fa="_HeadingContainer_197s3_23",Ca="_TextContainer_197s3_31",ja="_HeaderContainer_197s3_45",ga="_PracticeButtonContainer_197s3_57",U={PresetDrillsWrapper:ma,CardContainer:xa,HeadingContainer:fa,TextContainer:Ca,HeaderContainer:ja,PracticeButtonContainer:ga},_e=[{name:"Treble Landmark Notes",id:"3b1d93ed-0358-4fe6-979e-85a375de6478",difficulty:"easy",description:"C/G notes for learning landmark system",drillOptions:{timer:60,inclusiveNotes:[{name:"C",accidental:null,octave:4},{name:"G",accidental:null,octave:4},{name:"C",accidental:null,octave:5}],clef:"treble"}},{name:"Bass Landmark Notes",id:"ba032c09-fcc8-461a-b58e-74d492e35320",difficulty:"easy",description:"C/F notes for learning landmark system",drillOptions:{timer:60,inclusiveNotes:[{name:"C",accidental:null,octave:4},{name:"F",accidental:null,octave:3},{name:"C",accidental:null,octave:3}],clef:"bass"}},{name:"Treble Drill",id:"5d24460b-15ac-4288-be18-97f1559b88f9",difficulty:"easy",description:"Play notes from C4 to C5",drillOptions:{timer:60,octaveRange:{minOctave:{name:"C",accidental:null,octave:4},maxOctave:{name:"C",accidental:null,octave:5}},clef:"treble"}},{name:"Bass Drill",id:"7040190f-db2c-4926-a3dc-8e937a620f8a",difficulty:"easy",description:"Play notes from C4 to C3",drillOptions:{timer:60,octaveRange:{minOctave:{name:"C",accidental:null,octave:3},maxOctave:{name:"C",accidental:null,octave:4}},clef:"bass"}}],he=We((t,n)=>({currentNote:null,setCurrentNote:a=>t({currentNote:a}),playedNote:null,setPlayedNote:a=>t({playedNote:a}),drillOptions:null,setDrillOptions:a=>{t(s=>({drillOptions:{...s.drillOptions,...a}}))},playedNoteStatus:null,playedStatusNote:null,setPlayedNoteStatus:(a,s)=>t({playedNoteStatus:a,playedStatusNote:s}),isDrillStarted:!1,setIsDrillStarted:a=>t({isDrillStarted:a}),drillTime:0,decrementDrillTime:()=>{n().drillTime<1?t({drillTime:0}):t(a=>({drillTime:Math.max(0,a.drillTime-1)}))},setDrillTime:a=>{t({drillTime:Math.max(0,a)})},timeSinceLastCorrectNote:0,setTimeSinceLastCorrectNote:a=>{t({timeSinceLastCorrectNote:a})},drillScore:0,setDrillScore:a=>t(s=>({drillScore:s.drillScore+a})),resetDrill:()=>{t({playedNote:null,playedNoteStatus:null,playedStatusNote:null,isDrillStarted:!1,timeSinceLastCorrectNote:0,drillTime:0,drillScore:0})},resetDrillOptions:()=>{t({drillOptions:null})}})),Pe=[{clef:"treble",range:{minOctave:{name:"D",accidental:null,octave:3},maxOctave:{name:"F",accidental:null,octave:7}}},{clef:"bass",range:{minOctave:{name:"F",accidental:null,octave:1},maxOctave:{name:"A",accidental:null,octave:5}}}],Je={octaveRange:{minOctave:{name:"C",accidental:null,octave:4},maxOctave:{name:"C",accidental:null,octave:5}},timer:60,allowedAccidentals:{naturals:!0},clef:"treble"},_a="_backdrop_198tv_1",Na="_open_198tv_31",Sa="_modal_198tv_41",ce={backdrop:_a,open:Na,modal:Sa},Qe=p.createContext(null);function Ia({children:t}){const[n,a]=p.useState(null),s=p.useRef(!1),r=p.useCallback(l=>{a(l)},[]),i=p.useCallback(()=>{c(!1),a(null)},[]),u=p.useCallback(()=>{s.current||i()},[]),c=p.useCallback(l=>{s.current=l},[]),o=n!==null;return e.jsxs(Qe.Provider,{value:{openModal:r,closeModal:i,isOpen:o,setPreventClose:c},children:[t,et.createPortal(e.jsx("div",{className:`${ce.backdrop} ${o?ce.open:""}`,onClick:u,children:e.jsx("div",{className:`${ce.modal} ${o?ce.open:""}`,onClick:l=>l.stopPropagation(),children:n})}),document.body)]})}function te(){const t=p.useContext(Qe);if(!t)throw new Error("useModal must be used inside ModalProvider");return t}const Ta="_headerContainer_136xt_1",Da={headerContainer:Ta};function Ne({children:t,headerText:n,icon:a,overrideExitButtonPressed:s}){const{closeModal:r}=te();function i(){if(s){s();return}r()}return e.jsxs(S,{children:[e.jsxs("div",{className:Da.headerContainer,children:[a,e.jsx("h1",{className:"truncate-overflow-text",children:n}),e.jsx(m,{onClick:i,icon:e.jsx(Ve,{color:"var(--color-text-body-2)"}),variant:"text-secondary"})]}),t]})}const ya="_ModalActionButtonsContainer_4po04_1",ba="_ModalContentContainer_4po04_15",Ma="_LineGraphContainer_4po04_29",Ea="_DataContainer_4po04_39",wa="_EmptyGraphContainer_4po04_57",P={ModalActionButtonsContainer:ya,ModalContentContainer:ba,LineGraphContainer:Ma,DataContainer:Ea,EmptyGraphContainer:wa},ke=4,ee=10,fe=55,Aa=500,qe=20,Ba=6,le=15;function Pa({data:t,width:n=600,height:a=140,...s}){const r=p.useRef(null),i=c=>{if(!c||t.length===0)return;const o=c.getContext("2d");if(!o)return;const l=document.documentElement,h=getComputedStyle(l).getPropertyValue("--color-main-2").trim(),C=getComputedStyle(l).getPropertyValue("--color-text-body-1").trim(),v=getComputedStyle(l).getPropertyValue("--color-surface-border-1").trim(),_=getComputedStyle(l).getPropertyValue("--line-graph-label-font").trim();o.clearRect(0,0,n,a);const N=t.slice(-8).map(w=>w.score),D=a-ee*2;let O=Math.min(...N);const $=Math.max(...N,1),G=u(O,$,ke-2,Aa).reverse();o.fillStyle=C,o.font=_,o.textAlign="right",o.textBaseline="middle",G.forEach((w,A)=>{const B=ee+D/(ke-1)*A;o.beginPath(),o.strokeStyle=v,o.lineWidth=3,o.setLineDash([8,6]),o.moveTo(fe+qe,B),o.lineTo(n,B),o.stroke(),o.setLineDash([]),o.fillText(w.toString(),fe,B)});const R=fe+qe+le/2,j=n-ee,y=ee+le/2,E=a-ee-le/2,L=E-y,X=(j-R)/(N.length-1);o.beginPath(),o.strokeStyle=h,o.lineWidth=Ba,N.forEach((w,A)=>{const B=E-(w-O)/($-O)*L,ae=R+X*A;A===0?o.moveTo(ae,B):o.lineTo(ae,B)}),o.stroke(),o.fillStyle=h,N.forEach((w,A)=>{const B=E-(w-O)/($-O)*L,ae=R+X*A;o.beginPath(),o.arc(ae,B,le/2,0,Math.PI*2),o.fill()})};function u(c,o,l=2,h=500){const C=l+2,v=h*(C-1);c=Math.floor(c/h)*h,o-c<v&&(o=c+v);const _=(o-c)/(C-1);return Array.from({length:C},(N,D)=>D===0?c:D===C-1?Math.round(o/h)*h:Math.round((c+_*D)/h)*h)}return e.jsx("canvas",{ref:c=>{r.current=c,i(c)},width:n,height:a,...s})}const Ce=140,ka=600;function qa({presetId:t}){const{closeModal:n}=te(),{getResultsById:a}=ve(),s=_e.find(v=>v.id===t),r=a(t),i=Math.round(r.reduce((v,_)=>v+_.score,0)/r.length),u=r.reduce((v,_)=>v+_.correctNotes,0),c=r.reduce((v,_)=>v+_.totalNotes,0),o=Math.round(u/c*100),l=r.reduce((v,_)=>v+_.correctNotesPerMinute,0),h=Math.round(l/r.length),C=r.map(v=>({...v,score:v.score}));return r.length<1?e.jsxs(Ne,{headerText:"Drill Progress",children:[e.jsxs("div",{className:P.ModalContentContainer,children:[e.jsx("h1",{className:"body",children:s?.name&&s?.name}),e.jsxs("div",{className:P.EmptyGraphContainer,style:{minHeight:`${Ce}px`},children:[e.jsx(be,{scale:2.2}),e.jsx("p",{children:"Practice this drill to see your progress!"})]})]}),e.jsx("div",{className:P.ModalActionButtonsContainer,children:e.jsx(m,{text:"Close",variant:"outlined",fullWidth:!0,onClick:n})})]}):e.jsxs(Ne,{headerText:"Drill Progress",children:[r.length<1&&e.jsx("p",{children:"No Data Found!"}),e.jsxs("div",{className:P.ModalContentContainer,children:[e.jsx("h1",{className:"body",children:s?.name&&s?.name}),r.length>1?e.jsx(Pa,{data:C,width:ka,height:Ce,className:P.LineGraphContainer}):e.jsxs("div",{className:P.EmptyGraphContainer,style:{minHeight:`${Ce}px`},children:[e.jsx(be,{scale:2.2}),e.jsx("p",{children:"Practice this drill again to see a graph of your progress!"})]}),e.jsx("h2",{className:"body",children:"Average Score"}),e.jsx("p",{className:`heading ${P.DataContainer}`,children:isNaN(i)?0:i}),e.jsx("h2",{className:"body",children:"Average Accuracy"}),e.jsxs("p",{className:`heading ${P.DataContainer}`,children:[isNaN(o)?0:o,"%"]}),e.jsx("h2",{className:"body",children:"Average Correct Notes Per Minute"}),e.jsx("p",{className:`heading ${P.DataContainer}`,children:isNaN(h)?0:h})]}),e.jsx("div",{className:P.ModalActionButtonsContainer,children:e.jsx(m,{text:"Close",variant:"outlined",fullWidth:!0,onClick:n})})]})}function Oa({onBack:t}){const n=he(c=>c.setDrillOptions),a=he(c=>c.setIsDrillStarted),s=K(),{openModal:r}=te(),i=c=>{const o=_e.find(l=>l.id===c)?.drillOptions;o&&(o.drillId=c,n(o)),o||n(Je),a(!1),s("/drills/start")};function u(c){r(e.jsx(qa,{presetId:c}))}return e.jsxs("div",{className:U.PresetDrillsWrapper,children:[e.jsx("div",{className:U.HeadingContainer,children:e.jsx("h1",{children:"Preset Drills"})}),e.jsx(J,{onBack:t}),e.jsx("div",{className:U.CardContainer,children:_e.map(c=>e.jsx(Ra,{headerText:c.name,descriptionText:c.description,handleStartPressed:i,handleProgressPressed:u,drillId:c.id},c.id))})]})}function Ra({headerText:t,descriptionText:n,drillId:a,handleStartPressed:s,handleProgressPressed:r}){return e.jsxs(S,{children:[e.jsxs("div",{className:U.TextContainer,children:[e.jsxs("div",{className:U.HeaderContainer,children:[e.jsx(Bt,{color:"var(--color-main-2)"}),e.jsx("h2",{className:"heading truncate-overflow-text",children:t})]}),e.jsx("p",{className:"caption-secondary",children:n})]}),e.jsxs("div",{className:U.PracticeButtonContainer,children:[e.jsx(m,{onClick:()=>r(a),text:"Progress",variant:"outlined",fullWidth:!0}),e.jsx(m,{onClick:()=>s(a),icon:e.jsx(Pt,{color:"var(--color-text-main-1)"}),text:"Practice",fullWidth:!0})]})]})}const Wa="_CustomDrillsWrapper_1ykbt_1",Ha="_ContentWrapper_1ykbt_13",$a="_CardHeaderContainer_1ykbt_23",La="_InputsContainer_1ykbt_35",Za="_FlexButtonsContainer_1ykbt_65",Fa="_SubmitButtonContainer_1ykbt_77",z={CustomDrillsWrapper:Wa,ContentWrapper:Ha,CardHeaderContainer:$a,InputsContainer:La,FlexButtonsContainer:Za,SubmitButtonContainer:Fa};function Va({label:t,htmlName:n,error:a,ref:s,...r}){return e.jsxs("div",{className:M.InputWrapper,children:[e.jsx("label",{className:"body",htmlFor:n,children:t}),e.jsx("input",{className:M.Input,name:n,id:n,ref:s,...r}),e.jsxs("p",{className:`caption-secondary truncate-overflow-text ${M.Error}`,children:[" ",a&&`* ${a}`]})]})}function Ga({label:t,htmlName:n,options:a,defaultValue:s,ref:r,handleChange:i}){return e.jsxs("div",{className:M.InputWrapper,children:[e.jsx("label",{className:"body",htmlFor:n,children:t}),e.jsx("select",{className:M.InputSelect,name:n,id:n,ref:r,defaultValue:s,onChange:i,children:a.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))})]})}const za="_ModalContentContainer_unqo5_1",Ua="_ModalFlexContainer_unqo5_9",Ka="_OctaveButtonsContainer_unqo5_19",Ja="_StaveContainer_unqo5_33",Qa="_RangeContainer_unqo5_47",Xa="_SelectedRangeContainer_unqo5_59",Ya="_ModalActionButtonsContainer_unqo5_87",H={ModalContentContainer:za,ModalFlexContainer:Ua,OctaveButtonsContainer:Ka,StaveContainer:Ja,RangeContainer:Qa,SelectedRangeContainer:Xa,ModalActionButtonsContainer:Ya};st.loadFonts("Bravura");const Oe=8,es=4,Re=10,ts=51,ns=72,as=.5;class ss{context;stave;renderer;svgContext;clef;wrongNoteTimeout;constructor(n,a="treble",s="default",r=1,i=Oe,u=es,c=!0){n.innerHTML="";let o=Math.max(i,0);o=Math.min(o+1,Oe),o==1&&(o+=as);let l=ts+o*Re;l=l+u*Re,l=Math.max(l,ns),this.renderer=new Te(n,Te.Backends.SVG),this.renderer.resize(200,l*r),this.context=this.renderer.getContext(),this.svgContext=this.renderer.getContext(),this.context.scale(r,r),c&&this.svgContext.parent.classList.add("stave-scalable"),this.stave=new rt(0,0,200/r-1,{spaceAboveStaffLn:o}),this.clef=a,this.stave.setBegBarType(De.type.NONE),this.stave.setEndBarType(De.type.NONE),this.stave.addClef(a,s,void 0),this.stave.setContext(this.context).draw()}drawNote(n){this.clearStave();const a=ie(n),s=new se({keys:[a],duration:"w",clef:this.clef,alignCenter:!0});n.accidental&&s.addModifier(new pe(n.accidental)),me.FormatAndDraw(this.context,this.stave,[s])}drawListNotes(n){this.clearStave();const a=[];n.forEach(r=>{const i=ie(r),u=new se({keys:[i],duration:"w",clef:this.clef});a.push(u)});const s=new it({numBeats:8,beatValue:4});s.addTickables(a),new me().joinVoices([s]).format([s],this.svgContext.width-40),s.draw(this.context,this.stave)}changeClef(n){this.stave.setClef(n)}drawWrongNote(n,a){this.clearStave(),this.wrongNoteTimeout&&(clearTimeout(this.wrongNoteTimeout),this.wrongNoteTimeout=void 0);const s=new se({keys:[ie(n)],duration:"w",clef:this.clef,alignCenter:!0});n.accidental&&s.addModifier(new pe(n.accidental));const r=new se({keys:[ie(a)],duration:"w",clef:this.clef,alignCenter:!0});a.accidental&&r.addModifier(new pe(a.accidental)),r.setStyle({fillStyle:"var(--color-error)"}),r.setLedgerLineStyle({fillStyle:"var(--color-error)",strokeStyle:"var(--color-error)"}),me.FormatAndDraw(this.context,this.stave,[s,r]);let i=r.getSVGElement();i?.classList.add("stave-show-wrong-note"),this.wrongNoteTimeout=setTimeout(()=>{i?.classList.remove("stave-show-wrong-note"),i?.classList.add("stave-hide-wrong-note")},2e3)}clearStave(){const n=this.svgContext.svg;if(!n)return;n.querySelectorAll(":scope > :not(.vf-stave):not(.vf-stavebarline):not(.vf-clef)").forEach(s=>s.remove())}}const F={LEFT_INCREASE_OCTAVE:0,LEFT_DECREASE_OCTAVE:1,RIGHT_INCREASE_OCTAVE:2,RIGHT_DECREASE_OCTAVE:3};function rs({octaveRangeLimit:t,clef:n,setOctaveRange:a}){const[s,r]=p.useState(o()),i=p.useRef(null),u=p.useRef(null),{closeModal:c}=te();function o(){return n==="treble"?{leftNote:{name:"C",accidental:null,octave:4},rightNote:{name:"C",accidental:null,octave:5}}:{leftNote:{name:"C",accidental:null,octave:3},rightNote:{name:"C",accidental:null,octave:4}}}function l(g){if(s)switch(g){case F.LEFT_INCREASE_OCTAVE:h("left",re(s.leftNote,1));break;case F.LEFT_DECREASE_OCTAVE:h("left",re(s.leftNote,-1));break;case F.RIGHT_INCREASE_OCTAVE:h("right",re(s.rightNote,1));break;default:h("right",re(s.rightNote,-1));break}}function h(g,N){let D={...s},O=b(t.minOctave),$=b(t.maxOctave),G=b(N);G<O||G>$||(g==="left"?(D={...D,leftNote:N},r(R=>({...R,leftNote:N}))):(D={...D,rightNote:N},r(R=>({...R,rightNote:N}))),C(D))}function C(g){u.current?.drawListNotes([g.leftNote,g.rightNote])}function v(){if(!s)return" - ";let g=s.leftNote?de(s.leftNote):"",N=s.rightNote?de(s.rightNote):"";return`${g} - ${N}`}function _(){a(s),c()}return p.useEffect(()=>{if(!i.current)return;const g=new ss(i.current,n,"small",1.5);g&&(u.current=g,u.current?.drawListNotes([s.leftNote,s.rightNote]))},[]),e.jsxs(Ne,{headerText:"Octave Selector",icon:e.jsx(Dt,{}),children:[e.jsxs("div",{className:H.ModalContentContainer,children:[e.jsx(is,{handleButtonPress:l,children:e.jsx("div",{ref:i,className:H.StaveContainer})}),e.jsxs("div",{className:H.RangeContainer,children:[e.jsx("p",{className:"body-secondary",children:"Selected Range"}),e.jsx("div",{className:H.SelectedRangeContainer,children:e.jsx("p",{className:"heading",children:v()})})]})]}),e.jsxs("div",{className:H.ModalActionButtonsContainer,children:[e.jsx(m,{onClick:c,text:"Cancel",variant:"outlined",fullWidth:!0}),e.jsx(m,{text:"Set",variant:"contained",fullWidth:!0,onClick:_})]})]})}function is({children:t,handleButtonPress:n}){return e.jsxs("div",{className:H.ModalFlexContainer,children:[e.jsxs("div",{className:H.OctaveButtonsContainer,children:[e.jsx(m,{icon:e.jsx(Me,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(F.LEFT_INCREASE_OCTAVE)}),e.jsx(m,{icon:e.jsx(V,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(F.LEFT_DECREASE_OCTAVE)})]}),t,e.jsxs("div",{className:H.OctaveButtonsContainer,children:[e.jsx(m,{icon:e.jsx(Me,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(F.RIGHT_INCREASE_OCTAVE)}),e.jsx(m,{icon:e.jsx(V,{color:"var(--color-dark-2)"}),variant:"outlined",onClick:()=>n(F.RIGHT_DECREASE_OCTAVE)})]})]})}function os({onBack:t}){const n=he(j=>j.setDrillOptions),a=he(j=>j.setIsDrillStarted),{openModal:s}=te(),r=K(),[i,u]=p.useState(),[c,o]=p.useState({minOctave:{name:"C",accidental:null,octave:4},maxOctave:{name:"C",accidental:null,octave:5}}),l=p.useRef(null),h=p.useRef("treble"),C=p.useRef(Pe.filter(j=>j.clef==="treble")[0].range),[v,_]=p.useState({Naturals:!0,Sharps:!1,Flats:!1});function g(j){const y=j.target.value;h.current=y;const E=Pe.filter(B=>B.clef===y)[0].range,L=b(c.minOctave),ne=b(c.maxOctave),X=b(E.minOctave),w=b(E.maxOctave),A={...c};L<X&&(A.minOctave=ge(X)),ne>w&&(A.maxOctave=ge(w)),o(A),C.current=E}function N(j){_(y=>({...y,[j]:!y[j]}))}function D(){const j=Number(l.current?.value.trim());let y={timer:""},E=!1;if(!h.current||j===void 0||((j<0||j>999)&&(y.timer="Choose 0 to 999",E=!0),u(y),E))return;let L=!1;!v.Naturals&&!v.Sharps&&!v.Flats&&(L=!0);const ne={drillId:void 0,clef:h.current,timer:j,octaveRange:c,allowedAccidentals:{naturals:v.Naturals||L,sharps:v.Sharps,flats:v.Flats}};a(!1),n(ne),r("/drills/start")}function O(){n(Je),r("/drills/start")}function $(j){o({minOctave:j.leftNote,maxOctave:j.rightNote})}function G(){if(!c)return" - ";let j=c.minOctave?de(c.minOctave):"",y=c.minOctave?de(c.maxOctave):"";return`${j} - ${y}`}const R=()=>{s(e.jsx(rs,{octaveRangeLimit:C.current,prevOctaveRange:c,clef:h.current,setOctaveRange:$}))};return e.jsx("div",{className:z.CustomDrillsWrapper,children:e.jsxs("div",{className:z.ContentWrapper,children:[e.jsx(J,{onBack:t}),e.jsxs(S,{children:[e.jsx("div",{className:z.CardHeaderContainer,children:e.jsx("h1",{children:"Custom Drill Options"})}),e.jsxs("div",{className:z.InputsContainer,children:[e.jsx(Ga,{htmlName:"clef",label:"Clef",options:[{label:"Treble",value:"treble"},{label:"Bass",value:"bass"}],defaultValue:"treble",handleChange:g}),e.jsxs("h2",{children:["Octave Range ",G()]}),e.jsx(m,{text:"Choose Octave Range",variant:"outlined",size:"medium",onClick:R}),e.jsx("h2",{children:"Timer"}),e.jsx(Va,{htmlName:"timer",label:"Time",placeholder:"30",type:"number",error:i?.timer,ref:l,defaultValue:"60",min:0,max:999}),e.jsx("h2",{children:"Accidentals"}),e.jsxs("div",{className:z.FlexButtonsContainer,children:[e.jsx(m,{onClick:()=>N("Naturals"),variant:"text-secondary",text:"Naturals",active:v.Naturals}),e.jsx(m,{onClick:()=>N("Sharps"),variant:"text-secondary",text:"Sharps",active:v.Sharps}),e.jsx(m,{onClick:()=>N("Flats"),variant:"text-secondary",text:"Flats",active:v.Flats})]})]}),e.jsxs("div",{className:z.SubmitButtonContainer,children:[e.jsx(m,{onClick:D,variant:"contained",text:"Start Drill",fullWidth:!0}),e.jsx(m,{onClick:O,variant:"outlined",text:"Use Default Options",fullWidth:!0})]})]})]})})}function cs(){const[t,n]=p.useState("main"),a=()=>n("preset"),s=()=>n("custom"),r=()=>n("main");return e.jsx("div",{className:I.NoteDrillPageWrapper,children:e.jsxs("div",{className:"size-wrapper",children:[t==="main"&&e.jsx(ls,{togglePresetComponent:a,toggleCustomComponent:s}),t==="preset"&&e.jsx(Oa,{onBack:r}),t==="custom"&&e.jsx(os,{onBack:r})]})})}function ls({togglePresetComponent:t,toggleCustomComponent:n}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:I.HeaderContainer,children:e.jsx("h1",{children:"Drill Practice"})}),e.jsx(ds,{}),e.jsxs("div",{className:I.CardContainer,children:[e.jsx(S,{onClick:t,children:e.jsxs("div",{className:I.CardContent,children:[e.jsx("div",{className:I.IconContainer,children:e.jsx(Be,{icon:e.jsx(wt,{})})}),e.jsxs("div",{className:I.TextContainer,children:[e.jsx("h2",{className:"heading",children:"Preset Drills"}),e.jsx("p",{className:"caption-secondary",children:"Practice with designed exercises covering rhythm patterns, note reading, and intervals"})]}),e.jsx("div",{className:I.ButtonContainer,children:e.jsx(m,{variant:"contained",text:"Start Practice",fullWidth:!0})})]})}),e.jsx(S,{onClick:n,children:e.jsxs("div",{className:I.CardContent,children:[e.jsx("div",{className:I.IconContainer,children:e.jsx(Be,{icon:e.jsx(kt,{})})}),e.jsxs("div",{className:I.TextContainer,children:[e.jsx("h2",{className:"heading",children:"Custom Drill"}),e.jsx("p",{className:"caption-secondary",children:"Create your own personalized exercises tailored to your specific learning goals"})]}),e.jsx("div",{className:I.ButtonContainer,children:e.jsx(m,{variant:"contained",text:"Customize Drill",fullWidth:!0})})]})})]})]})}function ds(){const{prefs:t}=Q(),n=W(r=>r.isMidiDeviceConnected),a=K();function s(){a(`/config?q=${T.DeviceSetup}`)}return e.jsx(S,{onClick:s,marginTop:"var(--spacing-xsmall)",children:e.jsxs("div",{className:I.DeviceContainer,children:[e.jsx("h2",{className:"body",children:"Current Input Devices"}),e.jsx("div",{className:I.DeviceContainerTextItem,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{}),e.jsx("p",{className:"caption-secondary",children:"MIDI"})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:I.DeviceContainerTextItem,children:t.inputType==="buttons"?e.jsxs(e.Fragment,{children:[e.jsx(Ze,{}),e.jsx("p",{className:"caption-secondary",children:"Buttons"})]}):t.inputType==="piano"?e.jsxs(e.Fragment,{children:[e.jsx(He,{}),e.jsx("p",{className:"caption-secondary",children:"Piano Roll"})]}):e.jsx("p",{className:"caption-secondary",children:"None"})})]})})}const us="_LoadingWrapper_1kcfb_1",hs={LoadingWrapper:us};function vs(){return e.jsx("div",{className:hs.LoadingWrapper,children:e.jsx(St,{size:60})})}const ps=p.lazy(()=>lt(()=>import("./DrillStartPage-PAf6IlCo.js"),__vite__mapDeps([0,1,2,3,4,5]))),ms=[{path:"/h",element:e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(aa,{})]})},{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(cs,{})]})},{path:"/config",element:e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(Yn,{})]})},{path:"/drills/start",element:e.jsxs(p.Suspense,{fallback:e.jsx(vs,{}),children:[e.jsx(oe,{}),e.jsx(ps,{})]})}];function xs(){const{prefs:t}=Q(),n=W(s=>s.enableMidiAutoReconnect),a=W(s=>s.disableMidiAutoReconnect);return p.useEffect(()=>{t.midiDeviceAutoConnect?n():t.midiDeviceAutoConnect||a()},[]),null}function fs(){return e.jsxs(tt,{children:[e.jsx(nt,{children:ms.map(t=>e.jsx(Ie,{path:t.path,element:t.element,children:t.children?.map(n=>e.jsx(Ie,{path:n.path,element:n.element},n.path))},t.path))}),e.jsx(xs,{})]})}at.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(Ia,{children:e.jsx(fs,{})})}));export{Ts as A,m as B,S as C,Ss as F,Es as G,Ne as M,q as N,de as P,Is as S,Ns as T,ws as a,ss as b,W as c,b as d,ve as e,Q as f,te as g,J as h,ys as i,Ds as j,bs as k,Ms as l,As as m,he as u};
